Model GAP_hcp_bcc_varcell, Test surface-decohesion-100-unrelaxed
Test run at 2018-10-22 20:12

model file: ../../../models/Ti/GAP_hcp_bcc_varcell/model.py
============================================================
import os

from quippy import Potential
import __builtin__

orig_dir = os.getcwd()
model_dir = os.path.dirname(__file__)
if model_dir != '':
    os.chdir(model_dir)

if os.path.exists('gp_iter6_sparse9k.xml.sparseX.GAP_2017_6_17_60_4_3_56_1651.bz2'):
    os.system('bunzip2 gp_iter6_sparse9k.xml.sparseX.GAP_2017_6_17_60_4_3_56_1651.bz2')

try:
    if hasattr(__builtin__, 'mpi_glob'):
        calculator = Potential(init_args='Potential xml_label="GAP_2018_6_26_60_20_15_36_820"',
                                               param_filename='gp_4b_no_wire_surface.xml', mpi_obj=mpi_glob)
    else:
        calculator = Potential(init_args='Potential xml_label="GAP_2018_10_16_60_20_24_13_425"', param_filename='gp_soap_hcp_bcc_varcell_24.xml')
    Potential.__str__ = lambda self: '<GAP Potential>'
finally:
    os.chdir(orig_dir)

no_checkpoint = True

name = 'GAP'
============================================================
test file: ../../../tests/Ti/surface-decohesion-100-unrelaxed/test.py
============================================================
# This script defines a test case which computes one or more physical
# properties with a given model
#
# INPUTS: 
#   model.calculator -- an ase.calculator.Calculator instance
#     this script can assume the calculator is checkpointed.
#
# OUTPUTS:
#   properties -- dictionary of key/value pairs corresponding
#     to physical quantities computed by this test

# standard ASE structure generation routines
from ase.lattice.cubic import BodyCenteredCubic

# set of utility routines specific this this model/testing framework
from utilities import relax_atoms, relax_atoms_cell

# the current model
import model 

a0 = 3.32 # initial guess at lattice constant, cell will be relaxed below
fmax = 0.01 # maximum force following relaxtion [eV/A]

# set up the a
bulk = BodyCenteredCubic(symbol='Ti', latticeconstant=a0)

# specify that we will use model.calculator to compute forces, energies and stresses
bulk.set_calculator(model.calculator)

# use one of the routines from utilities module to relax the initial
# unit cell and atomic positions
bulk = relax_atoms_cell(bulk, tol=fmax, traj_file=None)

# set up supercell
bulk *= (5, 1, 1)

def surface_energy(bulk, opening):
    Nat = bulk.get_number_of_atoms()

    # relax atom positions, holding cell fixed
    # vac = relax_atoms(vac, fmax=fmax)

    # compute surface formation energy as difference of bulk and expanded cell
    ebulk = bulk.get_potential_energy()
    print 'bulk cell energy', ebulk

    bulk.cell[0,:] += [opening,0.0,0.0]
    eexp  = bulk.get_potential_energy()
    
    print 'expanded cell energy', eexp
    e_form = (eexp - ebulk) / (bulk.cell[1,1]*bulk.cell[2,2])
    print 'unrelaxed 100 surface formation energy', e_form
    return e_form

# dictionary of computed properties - this is output of this test, to
#   be compared with other models
n_steps = 35
max_opening = 3.5

openings = []
es = []
for i in range(n_steps + 1):
    opening = float(i)/float(n_steps)*max_opening
    openings.append(opening)
    bulk_copy = bulk.copy()
    bulk_copy.set_calculator(model.calculator)
    es.append(surface_energy(bulk_copy, opening))

print "openings ", openings
print "es ", es
from scipy import interpolate
spline = interpolate.splrep(openings, es, s=0)
stresses = [x for x in interpolate.splev(openings, spline, der=1)]

print "stresses ", stresses
properties = {'surface_decohesion_unrelaxed_opening': openings, 'surface_decohesion_unrelaxed_energy' : es, 'surface_decohesion_unrelaxed_stress' : stresses}

============================================================
relax_atoms_cell using method cg_n
WARNING:quippy.potential:Minim atoms is not quippy.Atoms instance, copy forced!
bulk cell energy -58.8046838131
expanded cell energy -58.8046838131
unrelaxed 100 surface formation energy 0.0
bulk cell energy -58.8046838131
expanded cell energy -58.7975991525
unrelaxed 100 surface formation energy 0.0006508995372772184
bulk cell energy -58.8046838131
expanded cell energy -58.7775320458
unrelaxed 100 surface formation energy 0.002494554591308049
bulk cell energy -58.8046838131
expanded cell energy -58.7541570117
unrelaxed 100 surface formation energy 0.004642123762674914
bulk cell energy -58.8046838131
expanded cell energy -58.7405048347
unrelaxed 100 surface formation energy 0.005896410474231211
bulk cell energy -58.8046838131
expanded cell energy -58.7280974142
unrelaxed 100 surface formation energy 0.007036335818851793
bulk cell energy -58.8046838131
expanded cell energy -58.6712735381
unrelaxed 100 surface formation energy 0.012257000060661962
bulk cell energy -58.8046838131
expanded cell energy -58.5715389906
unrelaxed 100 surface formation energy 0.021420060053801
bulk cell energy -58.8046838131
expanded cell energy -58.4531340309
unrelaxed 100 surface formation energy 0.03229845452913314
bulk cell energy -58.8046838131
expanded cell energy -58.3181497872
unrelaxed 100 surface formation energy 0.04470006214170079
bulk cell energy -58.8046838131
expanded cell energy -58.1703110733
unrelaxed 100 surface formation energy 0.05828266756445157
bulk cell energy -58.8046838131
expanded cell energy -58.0179091532
unrelaxed 100 surface formation energy 0.07228451519788322
bulk cell energy -58.8046838131
expanded cell energy -57.8808738232
unrelaxed 100 surface formation energy 0.08487456530588174
bulk cell energy -58.8046838131
expanded cell energy -57.7702494991
unrelaxed 100 surface formation energy 0.09503811789871719
bulk cell energy -58.8046838131
expanded cell energy -57.6885248517
unrelaxed 100 surface formation energy 0.10254652763433483
bulk cell energy -58.8046838131
expanded cell energy -57.6277274859
unrelaxed 100 surface formation energy 0.10813225419664534
bulk cell energy -58.8046838131
expanded cell energy -57.5681408955
unrelaxed 100 surface formation energy 0.11360674138586042
bulk cell energy -58.8046838131
expanded cell energy -57.5123315761
unrelaxed 100 surface formation energy 0.11873419375892791
bulk cell energy -58.8046838131
expanded cell energy -57.4827973435
unrelaxed 100 surface formation energy 0.12144763610792852
bulk cell energy -58.8046838131
expanded cell energy -57.4605268265
unrelaxed 100 surface formation energy 0.12349372834750973
bulk cell energy -58.8046838131
expanded cell energy -57.4312300929
unrelaxed 100 surface formation energy 0.12618535060405275
bulk cell energy -58.8046838131
expanded cell energy -57.391319456
unrelaxed 100 surface formation energy 0.12985211973489136
bulk cell energy -58.8046838131
expanded cell energy -57.3364648163
unrelaxed 100 surface formation energy 0.13489186140890483
bulk cell energy -58.8046838131
expanded cell energy -57.2720504432
unrelaxed 100 surface formation energy 0.14080989864308463
bulk cell energy -58.8046838131
expanded cell energy -57.2152392735
unrelaxed 100 surface formation energy 0.14602939548759758
bulk cell energy -58.8046838131
expanded cell energy -57.1593744455
unrelaxed 100 surface formation energy 0.15116194768682673
bulk cell energy -58.8046838131
expanded cell energy -57.0923177682
unrelaxed 100 surface formation energy 0.15732274525042084
bulk cell energy -58.8046838131
expanded cell energy -57.0177781744
unrelaxed 100 surface formation energy 0.16417103190530935
bulk cell energy -58.8046838131
expanded cell energy -56.941272438
unrelaxed 100 surface formation energy 0.1711999568901463
bulk cell energy -58.8046838131
expanded cell energy -56.8666833176
unrelaxed 100 surface formation energy 0.17805279376788438
bulk cell energy -58.8046838131
expanded cell energy -56.7927331295
unrelaxed 100 surface formation energy 0.1848469290763514
bulk cell energy -58.8046838131
expanded cell energy -56.7219417775
unrelaxed 100 surface formation energy 0.19135084794593896
bulk cell energy -58.8046838131
expanded cell energy -56.6564109731
unrelaxed 100 surface formation energy 0.19737145672542225
bulk cell energy -58.8046838131
expanded cell energy -56.5917374915
unrelaxed 100 surface formation energy 0.20331329942004833
bulk cell energy -58.8046838131
expanded cell energy -56.5213975105
unrelaxed 100 surface formation energy 0.2097757488176431
bulk cell energy -58.8046838131
expanded cell energy -56.4478930111
unrelaxed 100 surface formation energy 0.21652893670361634
openings  [0.0, 0.09999999999999999, 0.19999999999999998, 0.3, 0.39999999999999997, 0.5, 0.6, 0.7000000000000001, 0.7999999999999999, 0.8999999999999999, 1.0, 1.1, 1.2, 1.3, 1.4000000000000001, 1.5, 1.5999999999999999, 1.7, 1.7999999999999998, 1.9, 2.0, 2.1, 2.2, 2.3, 2.4, 2.5, 2.6, 2.7, 2.8000000000000003, 2.9000000000000004, 3.0, 3.0999999999999996, 3.1999999999999997, 3.3, 3.4, 3.5]
es  ['0.0', '0.0006508995372772184', '0.002494554591308049', '0.004642123762674914', '0.005896410474231211', '0.007036335818851793', '0.012257000060661962', '0.021420060053801', '0.03229845452913314', '0.04470006214170079', '0.05828266756445157', '0.07228451519788322', '0.08487456530588174', '0.09503811789871719', '0.10254652763433483', '0.10813225419664534', '0.11360674138586042', '0.11873419375892791', '0.12144763610792852', '0.12349372834750973', '0.12618535060405275', '0.12985211973489136', '0.13489186140890483', '0.14080989864308463', '0.14602939548759758', '0.15116194768682673', '0.15732274525042084', '0.16417103190530935', '0.1711999568901463', '0.17805279376788438', '0.1848469290763514', '0.19135084794593896', '0.19737145672542225', '0.20331329942004833', '0.2097757488176431', '0.21652893670361634']
stresses  ['-0.0019506033022861913', '0.013720683502185402', '0.021904507032786055', '0.0183980151286013', '0.006559108940503591', '0.027191910794690653', '0.07549093547365639', '0.10235607435915962', '0.11632840114384119', '0.13073038370246975', '0.14027645510583203', '0.13569738755967495', '0.11469092689837354', '0.08814698587184865', '0.06287999946782433', '0.05315710519469971', '0.056297992299144776', '0.03970911247719845', '0.020092399454105028', '0.022707327363835544', '0.031209725974278332', '0.043205510360500854', '0.057163556729279474', '0.0568736299681801', '0.04946794575878543', '0.05581605830894019', '0.06606831389014975', '0.0701832126849391', '0.06951518456185786', '0.06820890494487929', '0.06705836124477865', '0.062499275417646036', '0.05868036655676693', '0.061652802578568', '0.06683718589558336', '0.06746757234613704']
============================================================
Property calculation output:


Summary of computed properties:
{'surface_decohesion_unrelaxed_energy': ['0.0', '0.0006508995372772184', '0.002494554591308049', '0.004642123762674914', '0.005896410474231211', '0.007036335818851793', '0.012257000060661962', '0.021420060053801', '0.03229845452913314', '0.04470006214170079', '0.05828266756445157', '0.07228451519788322', '0.08487456530588174', '0.09503811789871719', '0.10254652763433483', '0.10813225419664534', '0.11360674138586042', '0.11873419375892791', '0.12144763610792852', '0.12349372834750973', '0.12618535060405275', '0.12985211973489136', '0.13489186140890483', '0.14080989864308463', '0.14602939548759758', '0.15116194768682673', '0.15732274525042084', '0.16417103190530935', '0.1711999568901463', '0.17805279376788438', '0.1848469290763514', '0.19135084794593896', '0.19737145672542225', '0.20331329942004833', '0.2097757488176431', '0.21652893670361634'], 'surface_decohesion_unrelaxed_opening': [0.0, 0.09999999999999999, 0.19999999999999998, 0.3, 0.39999999999999997, 0.5, 0.6, 0.7000000000000001, 0.7999999999999999, 0.8999999999999999, 1.0, 1.1, 1.2, 1.3, 1.4000000000000001, 1.5, 1.5999999999999999, 1.7, 1.7999999999999998, 1.9, 2.0, 2.1, 2.2, 2.3, 2.4, 2.5, 2.6, 2.7, 2.8000000000000003, 2.9000000000000004, 3.0, 3.0999999999999996, 3.1999999999999997, 3.3, 3.4, 3.5], 'surface_decohesion_unrelaxed_stress': ['-0.0019506033022861913', '0.013720683502185402', '0.021904507032786055', '0.0183980151286013', '0.006559108940503591', '0.027191910794690653', '0.07549093547365639', '0.10235607435915962', '0.11632840114384119', '0.13073038370246975', '0.14027645510583203', '0.13569738755967495', '0.11469092689837354', '0.08814698587184865', '0.06287999946782433', '0.05315710519469971', '0.056297992299144776', '0.03970911247719845', '0.020092399454105028', '0.022707327363835544', '0.031209725974278332', '0.043205510360500854', '0.057163556729279474', '0.0568736299681801', '0.04946794575878543', '0.05581605830894019', '0.06606831389014975', '0.0701832126849391', '0.06951518456185786', '0.06820890494487929', '0.06705836124477865', '0.062499275417646036', '0.05868036655676693', '0.061652802578568', '0.06683718589558336', '0.06746757234613704']}
============================================================
