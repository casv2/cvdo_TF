Model DFTB, Test force-constant-hcp
Test run at 2018-09-10 14:34

model file: ../../../models/Ti/DFTB/model.py
============================================================
from quippy import Potential
import os

model_dir = os.path.dirname(os.path.realpath(__file__))
filename = os.path.join(model_dir, '4x4x4k_mesh_param_file_tightbind.parms.NRL_TB.Ti_spline_old.xml')

calculator = Potential('TB NRL-TB', param_filename = filename, Fermi_T = 0.001)

#no_checkpoint = True
#name = 'DFTB'============================================================
test file: ../../../tests/Ti/force-constant-hcp/test.py
============================================================
import model
import quippy
import numpy as np
from ase.lattice.hexagonal import HexagonalClosedPacked

def force_calculator(calculator):
    lattice_displacements = [[0.001, 0, 0], [-0.001, 0, 0], [0, 0.001, 0], [0, -0.001, 0], [0,0,0.001], [0,0,-0.001]]
    data = []
    
    a0 = 2.95
    c_over_a = 1.588
    
    num_atoms = len(HexagonalClosedPacked(symbol='Ti', latticeconstant=(a0,a0*c_over_a)))
    
    for i in xrange(0,num_atoms):
        forces = []
        for disp in lattice_displacements:
            bulk = HexagonalClosedPacked(symbol='Ti', latticeconstant=(a0,a0*c_over_a))
            big_bulk = bulk * (2,2,2)
            big_bulk[i].position = big_bulk[i].position + disp
            big_bulk.set_calculator(calculator)
            force = big_bulk.get_forces()
            forces.append(force.tolist())
        data.append(forces)
    
    return data[0], data[1]


(config1, config2) = force_calculator(model.calculator)

properties = {"config1":config1, "config2":config2}
============================================================
============================================================
Property calculation output:


Summary of computed properties:
{'config1': [[[-0.0009805992486579102, -0.0010956026825883842, -4.413348950759035e-06], [-0.0036849973554910933, 0.00018095701223577807, -2.5887365737320662e-05], [0.004809479364137264, -0.0011756525438242624, -4.511136083807483e-06], [-0.003685044692355343, 0.0001805444300483488, 3.337878026777477e-05], [0.002965397604808731, -0.003946752536477655, -3.204700447520276e-06], [-0.0030319439015149435, 0.0030849475619770506, 0.0009607581479353092], [0.0019063378639001336, -0.0028578578469752973, -2.9768238751678763e-06], [-0.00303181027299786, 0.003084920648175917, -0.0009517741895963279], [0.0050800821118784055, -0.0027261710494433725, -3.940949503446049e-06], [-0.003787314632657746, 0.0036988360775469732, 2.2370187748784524e-05], [0.002191101786582638, -0.002692624601219778, -3.808393593345634e-06], [-0.003787145446033103, 0.003698166127496385, -1.3832713359158474e-05], [0.0058078119195920114, 8.489432428961997e-05, -4.629001856297423e-06], [-0.002781000919631442, 0.0007046139780180787, -0.0009750024330985174], [0.004790867589381864, -0.0009280319484019828, -4.649897756582306e-06], [-0.0027812217709402218, 0.0007048130491413196, 0.0009821238379097274]], [[-0.0009805992486579102, -0.0010956026825883842, -4.413348950759035e-06], [-0.0036849973554910933, 0.00018095701223577807, -2.5887365737320662e-05], [0.004809479364137264, -0.0011756525438242624, -4.511136083807483e-06], [-0.003685044692355343, 0.0001805444300483488, 3.337878026777477e-05], [0.002965397604808731, -0.003946752536477655, -3.204700447520276e-06], [-0.0030319439015149435, 0.0030849475619770506, 0.0009607581479353092], [0.0019063378639001336, -0.0028578578469752973, -2.9768238751678763e-06], [-0.00303181027299786, 0.003084920648175917, -0.0009517741895963279], [0.0050800821118784055, -0.0027261710494433725, -3.940949503446049e-06], [-0.003787314632657746, 0.0036988360775469732, 2.2370187748784524e-05], [0.002191101786582638, -0.002692624601219778, -3.808393593345634e-06], [-0.003787145446033103, 0.003698166127496385, -1.3832713359158474e-05], [0.0058078119195920114, 8.489432428961997e-05, -4.629001856297423e-06], [-0.002781000919631442, 0.0007046139780180787, -0.0009750024330985174], [0.004790867589381864, -0.0009280319484019828, -4.649897756582306e-06], [-0.0027812217709402218, 0.0007048130491413196, 0.0009821238379097274]], [[-0.0009805992486579102, -0.0010956026825883842, -4.413348950759035e-06], [-0.0036849973554910933, 0.00018095701223577807, -2.5887365737320662e-05], [0.004809479364137264, -0.0011756525438242624, -4.511136083807483e-06], [-0.003685044692355343, 0.0001805444300483488, 3.337878026777477e-05], [0.002965397604808731, -0.003946752536477655, -3.204700447520276e-06], [-0.0030319439015149435, 0.0030849475619770506, 0.0009607581479353092], [0.0019063378639001336, -0.0028578578469752973, -2.9768238751678763e-06], [-0.00303181027299786, 0.003084920648175917, -0.0009517741895963279], [0.0050800821118784055, -0.0027261710494433725, -3.940949503446049e-06], [-0.003787314632657746, 0.0036988360775469732, 2.2370187748784524e-05], [0.002191101786582638, -0.002692624601219778, -3.808393593345634e-06], [-0.003787145446033103, 0.003698166127496385, -1.3832713359158474e-05], [0.0058078119195920114, 8.489432428961997e-05, -4.629001856297423e-06], [-0.002781000919631442, 0.0007046139780180787, -0.0009750024330985174], [0.004790867589381864, -0.0009280319484019828, -4.649897756582306e-06], [-0.0027812217709402218, 0.0007048130491413196, 0.0009821238379097274]], [[-0.0009805992486579102, -0.0010956026825883842, -4.413348950759035e-06], [-0.0036849973554910933, 0.00018095701223577807, -2.5887365737320662e-05], [0.004809479364137264, -0.0011756525438242624, -4.511136083807483e-06], [-0.003685044692355343, 0.0001805444300483488, 3.337878026777477e-05], [0.002965397604808731, -0.003946752536477655, -3.204700447520276e-06], [-0.0030319439015149435, 0.0030849475619770506, 0.0009607581479353092], [0.0019063378639001336, -0.0028578578469752973, -2.9768238751678763e-06], [-0.00303181027299786, 0.003084920648175917, -0.0009517741895963279], [0.0050800821118784055, -0.0027261710494433725, -3.940949503446049e-06], [-0.003787314632657746, 0.0036988360775469732, 2.2370187748784524e-05], [0.002191101786582638, -0.002692624601219778, -3.808393593345634e-06], [-0.003787145446033103, 0.003698166127496385, -1.3832713359158474e-05], [0.0058078119195920114, 8.489432428961997e-05, -4.629001856297423e-06], [-0.002781000919631442, 0.0007046139780180787, -0.0009750024330985174], [0.004790867589381864, -0.0009280319484019828, -4.649897756582306e-06], [-0.0027812217709402218, 0.0007048130491413196, 0.0009821238379097274]], [[-0.0009805992486579102, -0.0010956026825883842, -4.413348950759035e-06], [-0.0036849973554910933, 0.00018095701223577807, -2.5887365737320662e-05], [0.004809479364137264, -0.0011756525438242624, -4.511136083807483e-06], [-0.003685044692355343, 0.0001805444300483488, 3.337878026777477e-05], [0.002965397604808731, -0.003946752536477655, -3.204700447520276e-06], [-0.0030319439015149435, 0.0030849475619770506, 0.0009607581479353092], [0.0019063378639001336, -0.0028578578469752973, -2.9768238751678763e-06], [-0.00303181027299786, 0.003084920648175917, -0.0009517741895963279], [0.0050800821118784055, -0.0027261710494433725, -3.940949503446049e-06], [-0.003787314632657746, 0.0036988360775469732, 2.2370187748784524e-05], [0.002191101786582638, -0.002692624601219778, -3.808393593345634e-06], [-0.003787145446033103, 0.003698166127496385, -1.3832713359158474e-05], [0.0058078119195920114, 8.489432428961997e-05, -4.629001856297423e-06], [-0.002781000919631442, 0.0007046139780180787, -0.0009750024330985174], [0.004790867589381864, -0.0009280319484019828, -4.649897756582306e-06], [-0.0027812217709402218, 0.0007048130491413196, 0.0009821238379097274]], [[-0.0009805992486579102, -0.0010956026825883842, -4.413348950759035e-06], [-0.0036849973554910933, 0.00018095701223577807, -2.5887365737320662e-05], [0.004809479364137264, -0.0011756525438242624, -4.511136083807483e-06], [-0.003685044692355343, 0.0001805444300483488, 3.337878026777477e-05], [0.002965397604808731, -0.003946752536477655, -3.204700447520276e-06], [-0.0030319439015149435, 0.0030849475619770506, 0.0009607581479353092], [0.0019063378639001336, -0.0028578578469752973, -2.9768238751678763e-06], [-0.00303181027299786, 0.003084920648175917, -0.0009517741895963279], [0.0050800821118784055, -0.0027261710494433725, -3.940949503446049e-06], [-0.003787314632657746, 0.0036988360775469732, 2.2370187748784524e-05], [0.002191101786582638, -0.002692624601219778, -3.808393593345634e-06], [-0.003787145446033103, 0.003698166127496385, -1.3832713359158474e-05], [0.0058078119195920114, 8.489432428961997e-05, -4.629001856297423e-06], [-0.002781000919631442, 0.0007046139780180787, -0.0009750024330985174], [0.004790867589381864, -0.0009280319484019828, -4.649897756582306e-06], [-0.0027812217709402218, 0.0007048130491413196, 0.0009821238379097274]]], 'config2': [[[-0.0009805992486579102, -0.0010956026825883842, -4.413348950759035e-06], [-0.0036849973554910933, 0.00018095701223577807, -2.5887365737320662e-05], [0.004809479364137264, -0.0011756525438242624, -4.511136083807483e-06], [-0.003685044692355343, 0.0001805444300483488, 3.337878026777477e-05], [0.002965397604808731, -0.003946752536477655, -3.204700447520276e-06], [-0.0030319439015149435, 0.0030849475619770506, 0.0009607581479353092], [0.0019063378639001336, -0.0028578578469752973, -2.9768238751678763e-06], [-0.00303181027299786, 0.003084920648175917, -0.0009517741895963279], [0.0050800821118784055, -0.0027261710494433725, -3.940949503446049e-06], [-0.003787314632657746, 0.0036988360775469732, 2.2370187748784524e-05], [0.002191101786582638, -0.002692624601219778, -3.808393593345634e-06], [-0.003787145446033103, 0.003698166127496385, -1.3832713359158474e-05], [0.0058078119195920114, 8.489432428961997e-05, -4.629001856297423e-06], [-0.002781000919631442, 0.0007046139780180787, -0.0009750024330985174], [0.004790867589381864, -0.0009280319484019828, -4.649897756582306e-06], [-0.0027812217709402218, 0.0007048130491413196, 0.0009821238379097274]], [[-0.0009805992486579102, -0.0010956026825883842, -4.413348950759035e-06], [-0.0036849973554910933, 0.00018095701223577807, -2.5887365737320662e-05], [0.004809479364137264, -0.0011756525438242624, -4.511136083807483e-06], [-0.003685044692355343, 0.0001805444300483488, 3.337878026777477e-05], [0.002965397604808731, -0.003946752536477655, -3.204700447520276e-06], [-0.0030319439015149435, 0.0030849475619770506, 0.0009607581479353092], [0.0019063378639001336, -0.0028578578469752973, -2.9768238751678763e-06], [-0.00303181027299786, 0.003084920648175917, -0.0009517741895963279], [0.0050800821118784055, -0.0027261710494433725, -3.940949503446049e-06], [-0.003787314632657746, 0.0036988360775469732, 2.2370187748784524e-05], [0.002191101786582638, -0.002692624601219778, -3.808393593345634e-06], [-0.003787145446033103, 0.003698166127496385, -1.3832713359158474e-05], [0.0058078119195920114, 8.489432428961997e-05, -4.629001856297423e-06], [-0.002781000919631442, 0.0007046139780180787, -0.0009750024330985174], [0.004790867589381864, -0.0009280319484019828, -4.649897756582306e-06], [-0.0027812217709402218, 0.0007048130491413196, 0.0009821238379097274]], [[-0.0009805992486579102, -0.0010956026825883842, -4.413348950759035e-06], [-0.0036849973554910933, 0.00018095701223577807, -2.5887365737320662e-05], [0.004809479364137264, -0.0011756525438242624, -4.511136083807483e-06], [-0.003685044692355343, 0.0001805444300483488, 3.337878026777477e-05], [0.002965397604808731, -0.003946752536477655, -3.204700447520276e-06], [-0.0030319439015149435, 0.0030849475619770506, 0.0009607581479353092], [0.0019063378639001336, -0.0028578578469752973, -2.9768238751678763e-06], [-0.00303181027299786, 0.003084920648175917, -0.0009517741895963279], [0.0050800821118784055, -0.0027261710494433725, -3.940949503446049e-06], [-0.003787314632657746, 0.0036988360775469732, 2.2370187748784524e-05], [0.002191101786582638, -0.002692624601219778, -3.808393593345634e-06], [-0.003787145446033103, 0.003698166127496385, -1.3832713359158474e-05], [0.0058078119195920114, 8.489432428961997e-05, -4.629001856297423e-06], [-0.002781000919631442, 0.0007046139780180787, -0.0009750024330985174], [0.004790867589381864, -0.0009280319484019828, -4.649897756582306e-06], [-0.0027812217709402218, 0.0007048130491413196, 0.0009821238379097274]], [[-0.0009805992486579102, -0.0010956026825883842, -4.413348950759035e-06], [-0.0036849973554910933, 0.00018095701223577807, -2.5887365737320662e-05], [0.004809479364137264, -0.0011756525438242624, -4.511136083807483e-06], [-0.003685044692355343, 0.0001805444300483488, 3.337878026777477e-05], [0.002965397604808731, -0.003946752536477655, -3.204700447520276e-06], [-0.0030319439015149435, 0.0030849475619770506, 0.0009607581479353092], [0.0019063378639001336, -0.0028578578469752973, -2.9768238751678763e-06], [-0.00303181027299786, 0.003084920648175917, -0.0009517741895963279], [0.0050800821118784055, -0.0027261710494433725, -3.940949503446049e-06], [-0.003787314632657746, 0.0036988360775469732, 2.2370187748784524e-05], [0.002191101786582638, -0.002692624601219778, -3.808393593345634e-06], [-0.003787145446033103, 0.003698166127496385, -1.3832713359158474e-05], [0.0058078119195920114, 8.489432428961997e-05, -4.629001856297423e-06], [-0.002781000919631442, 0.0007046139780180787, -0.0009750024330985174], [0.004790867589381864, -0.0009280319484019828, -4.649897756582306e-06], [-0.0027812217709402218, 0.0007048130491413196, 0.0009821238379097274]], [[-0.0009805992486579102, -0.0010956026825883842, -4.413348950759035e-06], [-0.0036849973554910933, 0.00018095701223577807, -2.5887365737320662e-05], [0.004809479364137264, -0.0011756525438242624, -4.511136083807483e-06], [-0.003685044692355343, 0.0001805444300483488, 3.337878026777477e-05], [0.002965397604808731, -0.003946752536477655, -3.204700447520276e-06], [-0.0030319439015149435, 0.0030849475619770506, 0.0009607581479353092], [0.0019063378639001336, -0.0028578578469752973, -2.9768238751678763e-06], [-0.00303181027299786, 0.003084920648175917, -0.0009517741895963279], [0.0050800821118784055, -0.0027261710494433725, -3.940949503446049e-06], [-0.003787314632657746, 0.0036988360775469732, 2.2370187748784524e-05], [0.002191101786582638, -0.002692624601219778, -3.808393593345634e-06], [-0.003787145446033103, 0.003698166127496385, -1.3832713359158474e-05], [0.0058078119195920114, 8.489432428961997e-05, -4.629001856297423e-06], [-0.002781000919631442, 0.0007046139780180787, -0.0009750024330985174], [0.004790867589381864, -0.0009280319484019828, -4.649897756582306e-06], [-0.0027812217709402218, 0.0007048130491413196, 0.0009821238379097274]], [[-0.0009805992486579102, -0.0010956026825883842, -4.413348950759035e-06], [-0.0036849973554910933, 0.00018095701223577807, -2.5887365737320662e-05], [0.004809479364137264, -0.0011756525438242624, -4.511136083807483e-06], [-0.003685044692355343, 0.0001805444300483488, 3.337878026777477e-05], [0.002965397604808731, -0.003946752536477655, -3.204700447520276e-06], [-0.0030319439015149435, 0.0030849475619770506, 0.0009607581479353092], [0.0019063378639001336, -0.0028578578469752973, -2.9768238751678763e-06], [-0.00303181027299786, 0.003084920648175917, -0.0009517741895963279], [0.0050800821118784055, -0.0027261710494433725, -3.940949503446049e-06], [-0.003787314632657746, 0.0036988360775469732, 2.2370187748784524e-05], [0.002191101786582638, -0.002692624601219778, -3.808393593345634e-06], [-0.003787145446033103, 0.003698166127496385, -1.3832713359158474e-05], [0.0058078119195920114, 8.489432428961997e-05, -4.629001856297423e-06], [-0.002781000919631442, 0.0007046139780180787, -0.0009750024330985174], [0.004790867589381864, -0.0009280319484019828, -4.649897756582306e-06], [-0.0027812217709402218, 0.0007048130491413196, 0.0009821238379097274]]]}
============================================================
