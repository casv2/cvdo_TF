Model GAP_hcp_bcc_8, Test surface-decohesion-100-unrelaxed
Test run at 2018-10-22 20:13

model file: ../../../models/Ti/GAP_hcp_bcc_8/model.py
============================================================
import os

from quippy import Potential
import __builtin__

orig_dir = os.getcwd()
model_dir = os.path.dirname(__file__)
if model_dir != '':
    os.chdir(model_dir)

if os.path.exists('gp_iter6_sparse9k.xml.sparseX.GAP_2017_6_17_60_4_3_56_1651.bz2'):
    os.system('bunzip2 gp_iter6_sparse9k.xml.sparseX.GAP_2017_6_17_60_4_3_56_1651.bz2')

try:
    if hasattr(__builtin__, 'mpi_glob'):
        calculator = Potential(init_args='Potential xml_label="GAP_2018_6_26_60_20_15_36_820"',
                                               param_filename='gp_4b_no_wire_surface.xml', mpi_obj=mpi_glob)
    else:
        calculator = Potential(init_args='Potential xml_label="GAP_2018_10_16_60_20_44_49_671"', param_filename='gp_soap_hcp_bcc_24_8.xml')
    Potential.__str__ = lambda self: '<GAP Potential>'
finally:
    os.chdir(orig_dir)

no_checkpoint = True

name = 'GAP'
============================================================
test file: ../../../tests/Ti/surface-decohesion-100-unrelaxed/test.py
============================================================
# This script defines a test case which computes one or more physical
# properties with a given model
#
# INPUTS: 
#   model.calculator -- an ase.calculator.Calculator instance
#     this script can assume the calculator is checkpointed.
#
# OUTPUTS:
#   properties -- dictionary of key/value pairs corresponding
#     to physical quantities computed by this test

# standard ASE structure generation routines
from ase.lattice.cubic import BodyCenteredCubic

# set of utility routines specific this this model/testing framework
from utilities import relax_atoms, relax_atoms_cell

# the current model
import model 

a0 = 3.32 # initial guess at lattice constant, cell will be relaxed below
fmax = 0.01 # maximum force following relaxtion [eV/A]

# set up the a
bulk = BodyCenteredCubic(symbol='Ti', latticeconstant=a0)

# specify that we will use model.calculator to compute forces, energies and stresses
bulk.set_calculator(model.calculator)

# use one of the routines from utilities module to relax the initial
# unit cell and atomic positions
bulk = relax_atoms_cell(bulk, tol=fmax, traj_file=None)

# set up supercell
bulk *= (5, 1, 1)

def surface_energy(bulk, opening):
    Nat = bulk.get_number_of_atoms()

    # relax atom positions, holding cell fixed
    # vac = relax_atoms(vac, fmax=fmax)

    # compute surface formation energy as difference of bulk and expanded cell
    ebulk = bulk.get_potential_energy()
    print 'bulk cell energy', ebulk

    bulk.cell[0,:] += [opening,0.0,0.0]
    eexp  = bulk.get_potential_energy()
    
    print 'expanded cell energy', eexp
    e_form = (eexp - ebulk) / (bulk.cell[1,1]*bulk.cell[2,2])
    print 'unrelaxed 100 surface formation energy', e_form
    return e_form

# dictionary of computed properties - this is output of this test, to
#   be compared with other models
n_steps = 35
max_opening = 3.5

openings = []
es = []
for i in range(n_steps + 1):
    opening = float(i)/float(n_steps)*max_opening
    openings.append(opening)
    bulk_copy = bulk.copy()
    bulk_copy.set_calculator(model.calculator)
    es.append(surface_energy(bulk_copy, opening))

print "openings ", openings
print "es ", es
from scipy import interpolate
spline = interpolate.splrep(openings, es, s=0)
stresses = [x for x in interpolate.splev(openings, spline, der=1)]

print "stresses ", stresses
properties = {'surface_decohesion_unrelaxed_opening': openings, 'surface_decohesion_unrelaxed_energy' : es, 'surface_decohesion_unrelaxed_stress' : stresses}

============================================================
relax_atoms_cell using method cg_n
WARNING:quippy.potential:Minim atoms is not quippy.Atoms instance, copy forced!
bulk cell energy -60.3098759725
expanded cell energy -60.3098759725
unrelaxed 100 surface formation energy 0.0
bulk cell energy -60.3098759725
expanded cell energy -60.2904599941
unrelaxed 100 surface formation energy 0.0017919574853932777
bulk cell energy -60.3098759725
expanded cell energy -60.2350122495
unrelaxed 100 surface formation energy 0.006909392161801679
bulk cell energy -60.3098759725
expanded cell energy -60.1563044424
unrelaxed 100 surface formation energy 0.014173566097381934
bulk cell energy -60.3098759725
expanded cell energy -60.0824889706
unrelaxed 100 surface formation energy 0.020986212085447892
bulk cell energy -60.3098759725
expanded cell energy -60.0248963736
unrelaxed 100 surface formation energy 0.026301601468046887
bulk cell energy -60.3098759725
expanded cell energy -59.971030285
unrelaxed 100 surface formation energy 0.03127306047815467
bulk cell energy -60.3098759725
expanded cell energy -59.8724369052
unrelaxed 100 surface formation energy 0.04037253213582941
bulk cell energy -60.3098759725
expanded cell energy -59.7230502572
unrelaxed 100 surface formation energy 0.054159863208911196
bulk cell energy -60.3098759725
expanded cell energy -59.5712155281
unrelaxed 100 surface formation energy 0.06817313485448506
bulk cell energy -60.3098759725
expanded cell energy -59.4205215687
unrelaxed 100 surface formation energy 0.08208112152745377
bulk cell energy -60.3098759725
expanded cell energy -59.2436226164
unrelaxed 100 surface formation energy 0.09840764371037336
bulk cell energy -60.3098759725
expanded cell energy -59.058004449
unrelaxed 100 surface formation energy 0.11553888778246232
bulk cell energy -60.3098759725
expanded cell energy -58.9118152946
unrelaxed 100 surface formation energy 0.12903111280613652
bulk cell energy -60.3098759725
expanded cell energy -58.8307385342
unrelaxed 100 surface formation energy 0.13651392437547405
bulk cell energy -60.3098759725
expanded cell energy -58.7916252739
unrelaxed 100 surface formation energy 0.14012380167539434
bulk cell energy -60.3098759725
expanded cell energy -58.7442625747
unrelaxed 100 surface formation energy 0.14449504383974265
bulk cell energy -60.3098759725
expanded cell energy -58.6808112338
unrelaxed 100 surface formation energy 0.1503511538496871
bulk cell energy -60.3098759725
expanded cell energy -58.6165058515
unrelaxed 100 surface formation energy 0.15628608583896522
bulk cell energy -60.3098759725
expanded cell energy -58.5441520645
unrelaxed 100 surface formation energy 0.16296382865239523
bulk cell energy -60.3098759725
expanded cell energy -58.4690960075
unrelaxed 100 surface formation energy 0.16989097188049945
bulk cell energy -60.3098759725
expanded cell energy -58.3988217203
unrelaxed 100 surface formation energy 0.17637679157457578
bulk cell energy -60.3098759725
expanded cell energy -58.3418886706
unrelaxed 100 surface formation energy 0.18163130940220723
bulk cell energy -60.3098759725
expanded cell energy -58.3017787156
unrelaxed 100 surface formation energy 0.1853331745782991
bulk cell energy -60.3098759725
expanded cell energy -58.2706028466
unrelaxed 100 surface formation energy 0.1882104867894521
bulk cell energy -60.3098759725
expanded cell energy -58.2424741344
unrelaxed 100 surface formation energy 0.19080656799185897
bulk cell energy -60.3098759725
expanded cell energy -58.2262929269
unrelaxed 100 surface formation energy 0.19229997900246387
bulk cell energy -60.3098759725
expanded cell energy -58.2218651383
unrelaxed 100 surface formation energy 0.19270863257518786
bulk cell energy -60.3098759725
expanded cell energy -58.2269364995
unrelaxed 100 surface formation energy 0.1922405818038483
bulk cell energy -60.3098759725
expanded cell energy -58.2379935692
unrelaxed 100 surface formation energy 0.19122009246654223
bulk cell energy -60.3098759725
expanded cell energy -58.2546611943
unrelaxed 100 surface formation energy 0.1896817885519934
bulk cell energy -60.3098759725
expanded cell energy -58.2750222343
unrelaxed 100 surface formation energy 0.1878026085602603
bulk cell energy -60.3098759725
expanded cell energy -58.2965499112
unrelaxed 100 surface formation energy 0.185815756237348
bulk cell energy -60.3098759725
expanded cell energy -58.3169133968
unrelaxed 100 surface formation energy 0.18393635053760637
bulk cell energy -60.3098759725
expanded cell energy -58.3346898284
unrelaxed 100 surface formation energy 0.1822957116308702
bulk cell energy -60.3098759725
expanded cell energy -58.3520225428
unrelaxed 100 surface formation energy 0.18069602467130774
openings  [0.0, 0.09999999999999999, 0.19999999999999998, 0.3, 0.39999999999999997, 0.5, 0.6, 0.7000000000000001, 0.7999999999999999, 0.8999999999999999, 1.0, 1.1, 1.2, 1.3, 1.4000000000000001, 1.5, 1.5999999999999999, 1.7, 1.7999999999999998, 1.9, 2.0, 2.1, 2.2, 2.3, 2.4, 2.5, 2.6, 2.7, 2.8000000000000003, 2.9000000000000004, 3.0, 3.0999999999999996, 3.1999999999999997, 3.3, 3.4, 3.5]
es  ['0.0', '0.0017919574853932777', '0.006909392161801679', '0.014173566097381934', '0.020986212085447892', '0.026301601468046887', '0.03127306047815467', '0.04037253213582941', '0.054159863208911196', '0.06817313485448506', '0.08208112152745377', '0.09840764371037336', '0.11553888778246232', '0.12903111280613652', '0.13651392437547405', '0.14012380167539434', '0.14449504383974265', '0.1503511538496871', '0.15628608583896522', '0.16296382865239523', '0.16989097188049945', '0.17637679157457578', '0.18163130940220723', '0.1853331745782991', '0.1882104867894521', '0.19080656799185897', '0.19229997900246387', '0.19270863257518786', '0.1922405818038483', '0.19122009246654223', '0.1896817885519934', '0.1878026085602603', '0.185815756237348', '0.18393635053760637', '0.1822957116308702', '0.18069602467130774']
stresses  ['-0.0010707202558098907', '0.035728415386341916', '0.06543882356449264', '0.07396454871534733', '0.061007579283504386', '0.045846195270583534', '0.0642130914153647', '0.11942935910143307', '0.14467355410160015', '0.13589450605183706', '0.1493861712473277', '0.17359607463550014', '0.15996251786093024', '0.10525792679367268', '0.04825687275472887', '0.03449524826514729', '0.053195718112740875', '0.059542444512672446', '0.06236576381324645', '0.0693747443155859', '0.06828184017043612', '0.05988678266808585', '0.044381154808452464', '0.03128008820980399', '0.027873813969678803', '0.021426458318278257', '0.00910511914756023', '-0.0007849974086533698', '-0.007747045471413333', '-0.012883023965063214', '-0.017484656223980162', '-0.019702868327474445', '-0.019684839905482473', '-0.017545512730213007', '-0.015734447368002155', '-0.01672647378673771']
============================================================
Property calculation output:


Summary of computed properties:
{'surface_decohesion_unrelaxed_energy': ['0.0', '0.0017919574853932777', '0.006909392161801679', '0.014173566097381934', '0.020986212085447892', '0.026301601468046887', '0.03127306047815467', '0.04037253213582941', '0.054159863208911196', '0.06817313485448506', '0.08208112152745377', '0.09840764371037336', '0.11553888778246232', '0.12903111280613652', '0.13651392437547405', '0.14012380167539434', '0.14449504383974265', '0.1503511538496871', '0.15628608583896522', '0.16296382865239523', '0.16989097188049945', '0.17637679157457578', '0.18163130940220723', '0.1853331745782991', '0.1882104867894521', '0.19080656799185897', '0.19229997900246387', '0.19270863257518786', '0.1922405818038483', '0.19122009246654223', '0.1896817885519934', '0.1878026085602603', '0.185815756237348', '0.18393635053760637', '0.1822957116308702', '0.18069602467130774'], 'surface_decohesion_unrelaxed_opening': [0.0, 0.09999999999999999, 0.19999999999999998, 0.3, 0.39999999999999997, 0.5, 0.6, 0.7000000000000001, 0.7999999999999999, 0.8999999999999999, 1.0, 1.1, 1.2, 1.3, 1.4000000000000001, 1.5, 1.5999999999999999, 1.7, 1.7999999999999998, 1.9, 2.0, 2.1, 2.2, 2.3, 2.4, 2.5, 2.6, 2.7, 2.8000000000000003, 2.9000000000000004, 3.0, 3.0999999999999996, 3.1999999999999997, 3.3, 3.4, 3.5], 'surface_decohesion_unrelaxed_stress': ['-0.0010707202558098907', '0.035728415386341916', '0.06543882356449264', '0.07396454871534733', '0.061007579283504386', '0.045846195270583534', '0.0642130914153647', '0.11942935910143307', '0.14467355410160015', '0.13589450605183706', '0.1493861712473277', '0.17359607463550014', '0.15996251786093024', '0.10525792679367268', '0.04825687275472887', '0.03449524826514729', '0.053195718112740875', '0.059542444512672446', '0.06236576381324645', '0.0693747443155859', '0.06828184017043612', '0.05988678266808585', '0.044381154808452464', '0.03128008820980399', '0.027873813969678803', '0.021426458318278257', '0.00910511914756023', '-0.0007849974086533698', '-0.007747045471413333', '-0.012883023965063214', '-0.017484656223980162', '-0.019702868327474445', '-0.019684839905482473', '-0.017545512730213007', '-0.015734447368002155', '-0.01672647378673771']}
============================================================
