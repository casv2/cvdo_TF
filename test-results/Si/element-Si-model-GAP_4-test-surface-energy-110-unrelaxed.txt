Model GAP_4, Test surface-energy-110-unrelaxed
Test run at 2018-10-18 20:55

model file: ../../../models/Si/GAP_4/model.py
============================================================
import os

from quippy import Potential

orig_dir = os.getcwd()
model_dir = os.path.dirname(__file__)
os.chdir(model_dir)
try:
    calculator = Potential(init_args='Potential xml_label="GAP_2014_11_7_0_0_38_2_147"', param_filename='gp_soap_all_12_10_0.5_4_5.0_8500.xml')
finally:
    os.chdir(orig_dir)

no_checkpoint = True

name = 'GAP_2014_11_7_0_0_38_2_147'
============================================================
test file: ../../../tests/Si/surface-energy-110-unrelaxed/test.py
============================================================
# This script defines a test case which computes one or more physical
# properties with a given model
#
# INPUTS:
#   model.calculator -- an ase.calculator.Calculator instance
#     this script can assume the calculator is checkpointed.
#
# OUTPUTS:
#   properties -- dictionary of key/value pairs corresponding
#     to physical quantities computed by this test

# standard ASE structure generation routines
from ase.lattice.cubic import Diamond
import numpy as np

import ase.io, sys

# set of utility routines specific this this model/testing framework
from utilities import relax_atoms, relax_atoms_cell

# the current model
import model

a0 = 5.44 # initial guess at lattice constant, cell will be relaxed below
fmax = 0.01 # maximum force following relaxtion [eV/A]

# set up the a
bulk = Diamond(symbol='Si', latticeconstant=a0, directions=[[1,-1,0],[0,0,1],[1,1,0]])

# specify that we will use model.calculator to compute forces, energies and stresses
bulk.set_calculator(model.calculator)
# flip coord system for ASE (precon minim?)
c = bulk.get_cell()
t_v = c[0,:].copy()
c[0,:] = c[1,:]
c[1,:] = t_v
bulk.set_cell(c)

# use one of the routines from utilities module to relax the initial
# unit cell and atomic positions
bulk = relax_atoms_cell(bulk, tol=fmax, traj_file=None)

# set up supercell
bulk *= (1, 1, 10)

ase.io.write(sys.stdout, bulk, format='extxyz')

def surface_energy(bulk, z_offset):
    Nat = bulk.get_number_of_atoms()

    # shift so cut is through shuffle plane
    bulk.positions[:,2] += z_offset
    bulk.wrap()

    # relax atom positions, holding cell fixed
    # vac = relax_atoms(vac, fmax=fmax)

    # compute surface formation energy as difference of bulk and expanded cell
    ebulk = bulk.get_potential_energy()
    print 'bulk cell energy', ebulk

    bulk.cell[2,2] *= (np.abs(bulk.cell[2,2])+10.0)/np.abs(bulk.cell[2,2])
    eexp  = bulk.get_potential_energy()

    ase.io.write(sys.stdout, bulk, format='extxyz')

    print 'expanded cell energy', eexp
    e_form = 0.5*(eexp - ebulk) / np.linalg.norm(np.cross(bulk.cell[0,:],bulk.cell[1,:]))
    print 'unrelaxed 110 surface formation energy', e_form
    return e_form

# dictionary of computed properties - this is output of this test, to
#   be compared with other models
properties = {'surface_energy_110_unrelaxed':
                surface_energy(bulk, 1.0) }
============================================================
WARNING: Creating a left-handed coordinate system!
relax_atoms_cell using method cg_n
WARNING:quippy.potential:Minim atoms is not quippy.Atoms instance, copy forced!
40
Lattice="-2.493267125355491e-16 5.458655228931544 -1.3928873332104929e-16 3.8598521285369025 -1.5483233402461763e-16 -5.824109385741007e-18 2.434253360425188e-16 2.2208659841456097e-15 -38.598521285369024" Properties=species:S:1:pos:R:3:Z:I:1 Minim_Constant_Volume=F Minim_Hydrostatic_Strain=F pbc="T T T"
Si       0.00000000      -0.00000000      -0.00000000       14 
Si       0.00000000       1.36466381      -1.92992606       14 
Si       1.92992606       2.72932761      -1.92992606       14 
Si       1.92992606       4.09399142      -3.85985213       14 
Si       0.00000000      -0.00000000      -3.85985213       14 
Si       0.00000000       1.36466381      -5.78977819       14 
Si       1.92992606       2.72932761      -5.78977819       14 
Si       1.92992606       4.09399142      -7.71970426       14 
Si       0.00000000      -0.00000000      -7.71970426       14 
Si       0.00000000       1.36466381      -9.64963032       14 
Si       1.92992606       2.72932761      -9.64963032       14 
Si       1.92992606       4.09399142     -11.57955639       14 
Si       0.00000000      -0.00000000     -11.57955639       14 
Si       0.00000000       1.36466381     -13.50948245       14 
Si       1.92992606       2.72932761     -13.50948245       14 
Si       1.92992606       4.09399142     -15.43940851       14 
Si       0.00000000      -0.00000000     -15.43940851       14 
Si       0.00000000       1.36466381     -17.36933458       14 
Si       1.92992606       2.72932761     -17.36933458       14 
Si       1.92992606       4.09399142     -19.29926064       14 
Si       0.00000000      -0.00000000     -19.29926064       14 
Si       0.00000000       1.36466381     -21.22918671       14 
Si       1.92992606       2.72932761     -21.22918671       14 
Si       1.92992606       4.09399142     -23.15911277       14 
Si       0.00000000      -0.00000000     -23.15911277       14 
Si       0.00000000       1.36466381     -25.08903884       14 
Si       1.92992606       2.72932761     -25.08903884       14 
Si       1.92992606       4.09399142     -27.01896490       14 
Si       0.00000000      -0.00000000     -27.01896490       14 
Si       0.00000000       1.36466381     -28.94889096       14 
Si       1.92992606       2.72932761     -28.94889096       14 
Si       1.92992606       4.09399142     -30.87881703       14 
Si       0.00000000      -0.00000000     -30.87881703       14 
Si       0.00000000       1.36466381     -32.80874309       14 
Si       1.92992606       2.72932761     -32.80874309       14 
Si       1.92992606       4.09399142     -34.73866916       14 
Si       0.00000000      -0.00000000     -34.73866916       14 
Si       0.00000000       1.36466381     -36.66859522       14 
Si       1.92992606       2.72932761     -36.66859522       14 
Si       1.92992606       4.09399142     -38.59852129       14 
bulk cell energy -6527.09496237
40
Lattice="-2.493267125355491e-16 5.458655228931544 -1.3928873332104929e-16 3.8598521285369025 -1.5483233402461763e-16 -5.824109385741007e-18 2.434253360425188e-16 2.2208659841456097e-15 -48.598521285369024" Properties=species:S:1:pos:R:3:Z:I:1 energy=-6522.48831705 Minim_Constant_Volume=F Minim_Hydrostatic_Strain=F pbc="T T T"
Si       0.00000000      -0.00000000     -37.59852129       14 
Si       0.00000000       1.36466381      -0.92992606       14 
Si       1.92992606       2.72932761      -0.92992606       14 
Si       1.92992606       4.09399142      -2.85985213       14 
Si       0.00000000      -0.00000000      -2.85985213       14 
Si       0.00000000       1.36466381      -4.78977819       14 
Si       1.92992606       2.72932761      -4.78977819       14 
Si       1.92992606       4.09399142      -6.71970426       14 
Si       0.00000000      -0.00000000      -6.71970426       14 
Si       0.00000000       1.36466381      -8.64963032       14 
Si       1.92992606       2.72932761      -8.64963032       14 
Si       1.92992606       4.09399142     -10.57955639       14 
Si       0.00000000      -0.00000000     -10.57955639       14 
Si       0.00000000       1.36466381     -12.50948245       14 
Si       1.92992606       2.72932761     -12.50948245       14 
Si       1.92992606       4.09399142     -14.43940851       14 
Si       0.00000000      -0.00000000     -14.43940851       14 
Si       0.00000000       1.36466381     -16.36933458       14 
Si       1.92992606       2.72932761     -16.36933458       14 
Si       1.92992606       4.09399142     -18.29926064       14 
Si       0.00000000      -0.00000000     -18.29926064       14 
Si       0.00000000       1.36466381     -20.22918671       14 
Si       1.92992606       2.72932761     -20.22918671       14 
Si       1.92992606       4.09399142     -22.15911277       14 
Si       0.00000000      -0.00000000     -22.15911277       14 
Si       0.00000000       1.36466381     -24.08903884       14 
Si       1.92992606       2.72932761     -24.08903884       14 
Si       1.92992606       4.09399142     -26.01896490       14 
Si       0.00000000      -0.00000000     -26.01896490       14 
Si       0.00000000       1.36466381     -27.94889096       14 
Si       1.92992606       2.72932761     -27.94889096       14 
Si       1.92992606       4.09399142     -29.87881703       14 
Si       0.00000000      -0.00000000     -29.87881703       14 
Si       0.00000000       1.36466381     -31.80874309       14 
Si       1.92992606       2.72932761     -31.80874309       14 
Si       1.92992606       4.09399142     -33.73866916       14 
Si       0.00000000      -0.00000000     -33.73866916       14 
Si       0.00000000       1.36466381     -35.66859522       14 
Si       1.92992606       2.72932761     -35.66859522       14 
Si       1.92992606       4.09399142     -37.59852129       14 
expanded cell energy -6522.48831705
unrelaxed 110 surface formation energy 0.10931970434163162
============================================================
Property calculation output:


Summary of computed properties:
{'surface_energy_110_unrelaxed': '0.10931970434163162'}
============================================================
