Model PIP_Si_4BBAenv_sw2, Test surface-energy-111-unrelaxed
Test run at 2018-10-24 09:47

model file: ../../../models/Si/PIP_Si_4BBAenv_sw2/model.py
============================================================
import juliaimport
import julip
import os

model_dir = os.path.dirname(os.path.realpath(__file__))
IP = juliaimport.import_IP(model_dir + "/SiPIP_4BBA_env_sw2.json")

#IP = juliaimport.import_IP(os.path.realpath(__file__)[0:-8] + "Ti_4B_med.json")
ASE_IP = julip.JulipCalculator("IP")

calculator = ASE_IP

no_checkpoint = True

name = 'PIP'
============================================================
test file: ../../../tests/Si/surface-energy-111-unrelaxed/test.py
============================================================
# This script defines a test case which computes one or more physical
# properties with a given model
#
# INPUTS:
#   model.calculator -- an ase.calculator.Calculator instance
#     this script can assume the calculator is checkpointed.
#
# OUTPUTS:
#   properties -- dictionary of key/value pairs corresponding
#     to physical quantities computed by this test

# standard ASE structure generation routines
from ase.lattice.cubic import Diamond
import numpy as np

import ase.io, sys

# set of utility routines specific this this model/testing framework
from utilities import relax_atoms, relax_atoms_cell

# the current model
import model

a0 = 5.44 # initial guess at lattice constant, cell will be relaxed below
fmax = 0.01 # maximum force following relaxtion [eV/A]

# set up the a
bulk = Diamond(symbol='Si', latticeconstant=a0, directions=[[1,-1,0],[1,0,-1],[1,1,1]])

# specify that we will use model.calculator to compute forces, energies and stresses
bulk.set_calculator(model.calculator)

# use one of the routines from utilities module to relax the initial
# unit cell and atomic positions
bulk = relax_atoms_cell(bulk, tol=fmax, traj_file=None)

# set up supercell
bulk *= (1, 1, 10)


def surface_energy(bulk, z_offset):
    Nat = bulk.get_number_of_atoms()

    # shift so cut is through shuffle plane
    bulk.positions[:,2] += z_offset
    bulk.wrap()

    # relax atom positions, holding cell fixed
    # vac = relax_atoms(vac, fmax=fmax)

    # compute surface formation energy as difference of bulk and expanded cell
    ebulk = bulk.get_potential_energy()
    print 'bulk cell energy', ebulk

    bulk.cell[2,:] += [0.0,0.0,10.0]
    eexp  = bulk.get_potential_energy()

    ase.io.write(sys.stdout, bulk, format='extxyz')

    print 'expanded cell energy', eexp
    e_form = 0.5*(eexp - ebulk) / np.linalg.norm(np.cross(bulk.cell[0,:],bulk.cell[1,:]))
    print 'unrelaxed 111 surface formation energy', e_form
    return e_form

# dictionary of computed properties - this is output of this test, to
#   be compared with other models
properties = {'surface_energy_111_unrelaxed':
                surface_energy(bulk, 2.0) }
============================================================
relax_atoms_cell using method cg_n
WARNING:quippy.potential:Minim atoms is not quippy.Atoms instance, copy forced!
/home/casv2/miniconda2/lib/python2.7/site-packages/ase/atoms.py:764: UserWarning: Converting 3x3 stress tensor from JulipCalculator calculator to the required Voigt form.
  'calculator to the required Voigt form.')
bulk cell energy -9785.71393625
60
Lattice="3.8593031880861997 1.7222836391454427e-07 -4.734845823116802e-08 1.9296517431972382 3.342256853841843 1.5522301609199081e-07 -1.1597956277384378e-06 5.05997820887475e-06 104.53330071946483" Properties=species:S:1:pos:R:3 energy=-9783.94822921 Minim_Constant_Volume=F Minim_Hydrostatic_Strain=F pbc="T T T"
Si       3.85930194       0.00000045       1.99999759 
Si       1.92965121       3.34225585       4.36332980 
Si       1.92965151       1.11408695       8.30221731 
Si       1.92965309       1.11408501      10.66555392 
Si       3.85930373       2.22817265       5.15111325 
Si       3.85930308       2.22817079       7.51444519 
Si       3.85930183       0.00000096      11.45332766 
Si       1.92965109       3.34225636      13.81665987 
Si       1.92965140       1.11408746      17.75554739 
Si       1.92965298       1.11408552      20.11888399 
Si       3.85930361       2.22817316      14.60444332 
Si       3.85930296       2.22817130      16.96777526 
Si       3.85930171       0.00000146      20.90665774 
Si       1.92965098       3.34225686      23.26998994 
Si       1.92965128       1.11408797      27.20887746 
Si       1.92965286       1.11408602      29.57221407 
Si       3.85930350       2.22817367      24.05777340 
Si       3.85930285       2.22817180      26.42110534 
Si       3.85930160       0.00000197      30.35998781 
Si       1.92965086       3.34225737      32.72332001 
Si       1.92965117       1.11408847      36.66220753 
Si       1.92965274       1.11408653      39.02554414 
Si       3.85930338       2.22817417      33.51110347 
Si       3.85930273       2.22817231      35.87443541 
Si       3.85930148       0.00000248      39.81331788 
Si       1.92965075       3.34225788      42.17665008 
Si       1.92965105       1.11408898      46.11553760 
Si       1.92965263       1.11408704      48.47887421 
Si       3.85930326       2.22817468      42.96443354 
Si       3.85930262       2.22817281      45.32776548 
Si       3.85930136       0.00000298      49.26664795 
Si       1.92965063       3.34225838      51.62998016 
Si       1.92965093       1.11408948      55.56886767 
Si       1.92965251       1.11408754      57.93220428 
Si       3.85930315       2.22817518      52.41776361 
Si       3.85930250       2.22817332      54.78109555 
Si       3.85930125       0.00000349      58.71997802 
Si       1.92965051       3.34225889      61.08331023 
Si       1.92965082       1.11408999      65.02219774 
Si       1.92965240       1.11408805      67.38553435 
Si       3.85930303       2.22817569      61.87109368 
Si       3.85930238       2.22817383      64.23442562 
Si       3.85930113       0.00000399      68.17330809 
Si       1.92965040       3.34225939      70.53664030 
Si       1.92965070       1.11409050      74.47552782 
Si       1.92965228       1.11408855      76.83886443 
Si       3.85930292       2.22817620      71.32442376 
Si       3.85930227       2.22817433      73.68775570 
Si       3.85930102       0.00000450      77.62663817 
Si       1.92965028       3.34225990      79.98997037 
Si       1.92965059       1.11409100      83.92885789 
Si       1.92965216       1.11408906      86.29219450 
Si       3.85930280       2.22817670      80.77775383 
Si       3.85930215       2.22817484      83.14108577 
Si       3.85930090       0.00000501      87.07996824 
Si       1.92965017       3.34226041      89.44330044 
Si       1.92965047       1.11409151      93.38218796 
Si       1.92965321       1.11408451       1.21222385 
Si       3.85930268       2.22817721      90.23108390 
Si       3.85930204       2.22817534      92.59441584 
expanded cell energy -9783.94822921
unrelaxed 111 surface formation energy 0.06844471859875582
============================================================
Property calculation output:


Summary of computed properties:
{'surface_energy_111_unrelaxed': 0.06844471859875582}
============================================================
