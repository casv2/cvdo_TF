Model SW, Test surface-decohesion-100-unrelaxed
Test run at 2018-09-06 10:47

model file: ../../../models/Si/SW/model.py
============================================================
# Model for Stillinger-Weber with original parameters for Si (Z=14)

from quippy import Potential

# A module defining a module needs to define only one variable,
# named `calculator`, which should be an instance of the ase.calculator.Calculator,
# a subclass of this, or a compatible class implementing the calculator interface.

calculator = Potential('IP SW', param_str="""
<SW_params n_types="1">
<per_type_data type="1" atomic_num="14" />
<per_pair_data atnum_i="14" atnum_j="14" AA="7.049556277" BB="0.6022245584"
      p="4" q="0" a="1.80" sigma="2.0951" eps="2.1675" />
<per_triplet_data atnum_c="14" atnum_j="14" atnum_k="14"
      lambda="21.0" gamma="1.20" eps="2.1675" />
</SW_params>
""")

no_checkpoint = True
name = 'SW'

============================================================
test file: ../../../tests/Si/surface-decohesion-100-unrelaxed/test.py
============================================================
# This script defines a test case which computes one or more physical
# properties with a given model
#
# INPUTS: 
#   model.calculator -- an ase.calculator.Calculator instance
#     this script can assume the calculator is checkpointed.
#
# OUTPUTS:
#   properties -- dictionary of key/value pairs corresponding
#     to physical quantities computed by this test

# standard ASE structure generation routines
from ase.lattice.cubic import Diamond

# set of utility routines specific this this model/testing framework
from utilities import relax_atoms, relax_atoms_cell

# the current model
import model 

a0 = 5.44 # initial guess at lattice constant, cell will be relaxed below
fmax = 0.01 # maximum force following relaxtion [eV/A]

# set up the a
bulk = Diamond(symbol='Si', latticeconstant=a0)

# specify that we will use model.calculator to compute forces, energies and stresses
bulk.set_calculator(model.calculator)

# use one of the routines from utilities module to relax the initial
# unit cell and atomic positions
bulk = relax_atoms_cell(bulk, tol=fmax, traj_file=None)

# set up supercell
bulk *= (5, 1, 1)

def surface_energy(bulk, opening):
    Nat = bulk.get_number_of_atoms()

    # relax atom positions, holding cell fixed
    # vac = relax_atoms(vac, fmax=fmax)

    # compute surface formation energy as difference of bulk and expanded cell
    ebulk = bulk.get_potential_energy()
    print 'bulk cell energy', ebulk

    bulk.cell[0,:] += [opening,0.0,0.0]
    eexp  = bulk.get_potential_energy()
    
    print 'expanded cell energy', eexp
    e_form = (eexp - ebulk) / (bulk.cell[1,1]*bulk.cell[2,2])
    print 'unrelaxed 100 surface formation energy', e_form
    return e_form

# dictionary of computed properties - this is output of this test, to
#   be compared with other models
n_steps = 35
max_opening = 3.5

openings = []
es = []
for i in range(n_steps + 1):
    opening = float(i)/float(n_steps)*max_opening
    openings.append(opening)
    bulk_copy = bulk.copy()
    bulk_copy.set_calculator(model.calculator)
    es.append(surface_energy(bulk_copy, opening))

print "openings ", openings
print "es ", es
from scipy import interpolate
spline = interpolate.splrep(openings, es, s=0)
stresses = [x for x in interpolate.splev(openings, spline, der=1)]

print "stresses ", stresses
properties = {'surface_decohesion_unrelaxed_opening': openings, 'surface_decohesion_unrelaxed_energy' : es, 'surface_decohesion_unrelaxed_stress' : stresses}

============================================================
relax_atoms_cell using method lbfgs_precon
WARNING:ase.optimize.precon:use_pyamg=True but PyAMG cannot be imported! falling back on direct inversion of preconditioner, may be slow for large systems
PreconLBFGS:   0  10:47:40      -34.678737       0.0000       0.0031
bulk cell energy -173.393686797
expanded cell energy -173.393686797
unrelaxed 100 surface formation energy 0.0
bulk cell energy -173.393686797
expanded cell energy -173.292747535
unrelaxed 100 surface formation energy 0.0034108476834931027
bulk cell energy -173.393686797
expanded cell energy -173.026590328
unrelaxed 100 surface formation energy 0.012404589814891159
bulk cell energy -173.393686797
expanded cell energy -172.621400196
unrelaxed 100 surface formation energy 0.026096406005765394
bulk cell energy -173.393686797
expanded cell energy -172.100879866
unrelaxed 100 surface formation energy 0.04368535532031714
bulk cell energy -173.393686797
expanded cell energy -171.485520266
unrelaxed 100 surface formation energy 0.0644790269323126
bulk cell energy -173.393686797
expanded cell energy -170.792815101
unrelaxed 100 surface formation energy 0.08788628947095921
bulk cell energy -173.393686797
expanded cell energy -170.038396713
unrelaxed 100 surface formation energy 0.11337890908978325
bulk cell energy -173.393686797
expanded cell energy -169.238048939
unrelaxed 100 surface formation energy 0.14042353272446242
bulk cell energy -173.393686797
expanded cell energy -168.410481459
unrelaxed 100 surface formation energy 0.16838793989804204
bulk cell energy -173.393686797
expanded cell energy -167.580558179
unrelaxed 100 surface formation energy 0.19643195210607847
bulk cell energy -173.393686797
expanded cell energy -166.782251619
unrelaxed 100 surface formation energy 0.22340760091410675
bulk cell energy -173.393686797
expanded cell energy -166.059809514
unrelaxed 100 surface formation energy 0.2478197070807952
bulk cell energy -173.393686797
expanded cell energy -165.464398866
unrelaxed 100 surface formation energy 0.26793928184475413
bulk cell energy -173.393686797
expanded cell energy -165.042233439
unrelaxed 100 surface formation energy 0.2822047117581163
bulk cell energy -173.393686797
expanded cell energy -164.811147703
unrelaxed 100 surface formation energy 0.29001335066191003
bulk cell energy -173.393686797
expanded cell energy -164.733469198
unrelaxed 100 surface formation energy 0.2926381919970495
bulk cell energy -173.393686797
expanded cell energy -164.724092816
unrelaxed 100 surface formation energy 0.2929550301732696
bulk cell energy -173.393686797
expanded cell energy -164.724002457
unrelaxed 100 surface formation energy 0.29295808349934677
bulk cell energy -173.393686797
expanded cell energy -164.724002457
unrelaxed 100 surface formation energy 0.2929580834997703
bulk cell energy -173.393686797
expanded cell energy -164.724002457
unrelaxed 100 surface formation energy 0.2929580834997703
bulk cell energy -173.393686797
expanded cell energy -164.724002457
unrelaxed 100 surface formation energy 0.2929580834997703
bulk cell energy -173.393686797
expanded cell energy -164.724002457
unrelaxed 100 surface formation energy 0.2929580834997703
bulk cell energy -173.393686797
expanded cell energy -164.724002457
unrelaxed 100 surface formation energy 0.2929580834997703
bulk cell energy -173.393686797
expanded cell energy -164.724002457
unrelaxed 100 surface formation energy 0.2929580834997703
bulk cell energy -173.393686797
expanded cell energy -164.724002457
unrelaxed 100 surface formation energy 0.2929580834997703
bulk cell energy -173.393686797
expanded cell energy -164.724002457
unrelaxed 100 surface formation energy 0.2929580834997703
bulk cell energy -173.393686797
expanded cell energy -164.724002457
unrelaxed 100 surface formation energy 0.2929580834997703
bulk cell energy -173.393686797
expanded cell energy -164.724002457
unrelaxed 100 surface formation energy 0.2929580834997703
bulk cell energy -173.393686797
expanded cell energy -164.724002457
unrelaxed 100 surface formation energy 0.2929580834997703
bulk cell energy -173.393686797
expanded cell energy -164.724002457
unrelaxed 100 surface formation energy 0.2929580834997703
bulk cell energy -173.393686797
expanded cell energy -164.724002457
unrelaxed 100 surface formation energy 0.2929580834997703
bulk cell energy -173.393686797
expanded cell energy -164.724002457
unrelaxed 100 surface formation energy 0.2929580834997703
bulk cell energy -173.393686797
expanded cell energy -164.724002457
unrelaxed 100 surface formation energy 0.2929580834997703
bulk cell energy -173.393686797
expanded cell energy -164.724002457
unrelaxed 100 surface formation energy 0.2929580834997703
bulk cell energy -173.393686797
expanded cell energy -164.724002457
unrelaxed 100 surface formation energy 0.2929580834997703
openings  [0.0, 0.09999999999999999, 0.19999999999999998, 0.3, 0.39999999999999997, 0.5, 0.6, 0.7000000000000001, 0.7999999999999999, 0.8999999999999999, 1.0, 1.1, 1.2, 1.3, 1.4000000000000001, 1.5, 1.5999999999999999, 1.7, 1.7999999999999998, 1.9, 2.0, 2.1, 2.2, 2.3, 2.4, 2.5, 2.6, 2.7, 2.8000000000000003, 2.9000000000000004, 3.0, 3.0999999999999996, 3.1999999999999997, 3.3, 3.4, 3.5]
es  ['0.0', '0.0034108476834931027', '0.012404589814891159', '0.026096406005765394', '0.04368535532031714', '0.0644790269323126', '0.08788628947095921', '0.11337890908978325', '0.14042353272446242', '0.16838793989804204', '0.19643195210607847', '0.22340760091410675', '0.2478197070807952', '0.26793928184475413', '0.2822047117581163', '0.29001335066191003', '0.2926381919970495', '0.2929550301732696', '0.29295808349934677', '0.2929580834997703', '0.2929580834997703', '0.2929580834997703', '0.2929580834997703', '0.2929580834997703', '0.2929580834997703', '0.2929580834997703', '0.2929580834997703', '0.2929580834997703', '0.2929580834997703', '0.2929580834997703', '0.2929580834997703', '0.2929580834997703', '0.2929580834997703', '0.2929580834997703', '0.2929580834997703', '0.2929580834997703']
stresses  ['0.0031901947806271427', '0.06352485398184538', '0.11484808373872615', '0.157649560731419', '0.19297663849837743', '0.2219225130714867', '0.2453613337349379', '0.26362861671288074', '0.2762414970186379', '0.2816763194603334', '0.27730580658850607', '0.25969028466758315', '0.2255657039826678', '0.1739973273211631', '0.10999512705230971', '0.04824422898427802', '0.010032364178574078', '-0.00012330035778496102', '5.758232148489482e-05', '-1.542913313584693e-05', '4.134223763885277e-06', '-1.1077619191390816e-06', '2.9682391156082754e-07', '-7.953372654911951e-08', '2.1310997966317325e-08', '-5.710265593705794e-09', '1.5300613553925745e-09', '-4.0997844008572274e-10', '1.0985296006182905e-10', '-2.943562060764283e-11', '7.886746811180972e-12', '-2.112199304349374e-12', '5.69544411632706e-13', '-1.6431300764452302e-13', '8.153200337090982e-14', '-1.62370117351429e-13']
============================================================
Property calculation output:


Summary of computed properties:
{'surface_decohesion_unrelaxed_energy': ['0.0', '0.0034108476834931027', '0.012404589814891159', '0.026096406005765394', '0.04368535532031714', '0.0644790269323126', '0.08788628947095921', '0.11337890908978325', '0.14042353272446242', '0.16838793989804204', '0.19643195210607847', '0.22340760091410675', '0.2478197070807952', '0.26793928184475413', '0.2822047117581163', '0.29001335066191003', '0.2926381919970495', '0.2929550301732696', '0.29295808349934677', '0.2929580834997703', '0.2929580834997703', '0.2929580834997703', '0.2929580834997703', '0.2929580834997703', '0.2929580834997703', '0.2929580834997703', '0.2929580834997703', '0.2929580834997703', '0.2929580834997703', '0.2929580834997703', '0.2929580834997703', '0.2929580834997703', '0.2929580834997703', '0.2929580834997703', '0.2929580834997703', '0.2929580834997703'], 'surface_decohesion_unrelaxed_opening': [0.0, 0.09999999999999999, 0.19999999999999998, 0.3, 0.39999999999999997, 0.5, 0.6, 0.7000000000000001, 0.7999999999999999, 0.8999999999999999, 1.0, 1.1, 1.2, 1.3, 1.4000000000000001, 1.5, 1.5999999999999999, 1.7, 1.7999999999999998, 1.9, 2.0, 2.1, 2.2, 2.3, 2.4, 2.5, 2.6, 2.7, 2.8000000000000003, 2.9000000000000004, 3.0, 3.0999999999999996, 3.1999999999999997, 3.3, 3.4, 3.5], 'surface_decohesion_unrelaxed_stress': ['0.0031901947806271427', '0.06352485398184538', '0.11484808373872615', '0.157649560731419', '0.19297663849837743', '0.2219225130714867', '0.2453613337349379', '0.26362861671288074', '0.2762414970186379', '0.2816763194603334', '0.27730580658850607', '0.25969028466758315', '0.2255657039826678', '0.1739973273211631', '0.10999512705230971', '0.04824422898427802', '0.010032364178574078', '-0.00012330035778496102', '5.758232148489482e-05', '-1.542913313584693e-05', '4.134223763885277e-06', '-1.1077619191390816e-06', '2.9682391156082754e-07', '-7.953372654911951e-08', '2.1310997966317325e-08', '-5.710265593705794e-09', '1.5300613553925745e-09', '-4.0997844008572274e-10', '1.0985296006182905e-10', '-2.943562060764283e-11', '7.886746811180972e-12', '-2.112199304349374e-12', '5.69544411632706e-13', '-1.6431300764452302e-13', '8.153200337090982e-14', '-1.62370117351429e-13']}
============================================================
