Model GAP_5k, Test surface-decohesion-100-unrelaxed
Test run at 2018-10-02 13:48

model file: ../../../models/Si/GAP_5k/model.py
============================================================
from quippy import Potential
import __builtin__
import os

orig_dir = os.getcwd()
model_dir = os.path.dirname(__file__)
if model_dir != '':
    os.chdir(model_dir)

#if os.path.exists('gp_iter6_sparse9k.xml.sparseX.GAP_2017_6_17_60_4_3_56_1651.bz2'):
#    os.system('bunzip2 gp_iter6_sparse9k.xml.sparseX.GAP_2017_6_17_60_4_3_56_1651.bz2')

try:
    if hasattr(__builtin__, 'mpi_glob'):
        calculator = Potential(init_args='Potential xml_label="GAP_2017_5_19_60_8_49_14_561"', param_filename='./gp_iter5_with111adatom_with3x3das_noconfigtypes_sparse9k.xml', mpi_obj=mpi_glob)
    else:
        calculator = Potential(init_args='Potential xml_label="GAP_2017_5_19_60_8_49_14_561"', param_filename='./gp_iter5_with111adatom_with3x3das_noconfigtypes_sparse9k.xml')
    Potential.__str__ = lambda self: '<GAP Potential>'
finally:
    os.chdir(orig_dir)

no_checkpoint = True

name = 'GAP'

#calculator = Potential(init_args='Potential xml_label="GAP_2017_5_19_60_8_49_14_561"', param_filename='./gp_iter5_with111adatom_with3x3das_noconfigtypes_sparse9k.xml')

no_checkpoint = True

name = 'GAP'
============================================================
test file: ../../../tests/Si/surface-decohesion-100-unrelaxed/test.py
============================================================
# This script defines a test case which computes one or more physical
# properties with a given model
#
# INPUTS: 
#   model.calculator -- an ase.calculator.Calculator instance
#     this script can assume the calculator is checkpointed.
#
# OUTPUTS:
#   properties -- dictionary of key/value pairs corresponding
#     to physical quantities computed by this test

# standard ASE structure generation routines
from ase.lattice.cubic import Diamond

# set of utility routines specific this this model/testing framework
from utilities import relax_atoms, relax_atoms_cell

# the current model
import model 

a0 = 5.44 # initial guess at lattice constant, cell will be relaxed below
fmax = 0.01 # maximum force following relaxtion [eV/A]

# set up the a
bulk = Diamond(symbol='Si', latticeconstant=a0)

# specify that we will use model.calculator to compute forces, energies and stresses
bulk.set_calculator(model.calculator)

# use one of the routines from utilities module to relax the initial
# unit cell and atomic positions
bulk = relax_atoms_cell(bulk, tol=fmax, traj_file=None)

# set up supercell
bulk *= (5, 1, 1)

def surface_energy(bulk, opening):
    Nat = bulk.get_number_of_atoms()

    # relax atom positions, holding cell fixed
    # vac = relax_atoms(vac, fmax=fmax)

    # compute surface formation energy as difference of bulk and expanded cell
    ebulk = bulk.get_potential_energy()
    print 'bulk cell energy', ebulk

    bulk.cell[0,:] += [opening,0.0,0.0]
    eexp  = bulk.get_potential_energy()
    
    print 'expanded cell energy', eexp
    e_form = (eexp - ebulk) / (bulk.cell[1,1]*bulk.cell[2,2])
    print 'unrelaxed 100 surface formation energy', e_form
    return e_form

# dictionary of computed properties - this is output of this test, to
#   be compared with other models
n_steps = 35
max_opening = 3.5

openings = []
es = []
for i in range(n_steps + 1):
    opening = float(i)/float(n_steps)*max_opening
    openings.append(opening)
    bulk_copy = bulk.copy()
    bulk_copy.set_calculator(model.calculator)
    es.append(surface_energy(bulk_copy, opening))

print "openings ", openings
print "es ", es
from scipy import interpolate
spline = interpolate.splrep(openings, es, s=0)
stresses = [x for x in interpolate.splev(openings, spline, der=1)]

print "stresses ", stresses
properties = {'surface_decohesion_unrelaxed_opening': openings, 'surface_decohesion_unrelaxed_energy' : es, 'surface_decohesion_unrelaxed_stress' : stresses}

============================================================
relax_atoms_cell using method cg_n
WARNING:quippy.potential:Minim atoms is not quippy.Atoms instance, copy forced!
bulk cell energy -6527.10465016
expanded cell energy -6527.10465016
unrelaxed 100 surface formation energy 0.0
bulk cell energy -6527.10465016
expanded cell energy -6527.02556059
unrelaxed 100 surface formation energy 0.0026520230600245737
bulk cell energy -6527.10465016
expanded cell energy -6526.80072714
unrelaxed 100 surface formation energy 0.010191114314629103
bulk cell energy -6527.10465016
expanded cell energy -6526.45299197
unrelaxed 100 surface formation energy 0.021851332656245087
bulk cell energy -6527.10465016
expanded cell energy -6526.01201133
unrelaxed 100 surface formation energy 0.036638248003902786
bulk cell energy -6527.10465016
expanded cell energy -6525.51373846
unrelaxed 100 surface formation energy 0.05334628015332416
bulk cell energy -6527.10465016
expanded cell energy -6524.99615719
unrelaxed 100 surface formation energy 0.07070175968836297
bulk cell energy -6527.10465016
expanded cell energy -6524.47925731
unrelaxed 100 surface formation energy 0.08803439093550612
bulk cell energy -6527.10465016
expanded cell energy -6523.96963775
unrelaxed 100 surface formation energy 0.10512289924578545
bulk cell energy -6527.10465016
expanded cell energy -6523.47462204
unrelaxed 100 surface formation energy 0.12172171266759875
bulk cell energy -6527.10465016
expanded cell energy -6522.99810324
unrelaxed 100 surface formation energy 0.13770029009560603
bulk cell energy -6527.10465016
expanded cell energy -6522.5286558
unrelaxed 100 surface formation energy 0.15344175107328722
bulk cell energy -6527.10465016
expanded cell energy -6522.05243153
unrelaxed 100 surface formation energy 0.16941045219327833
bulk cell energy -6527.10465016
expanded cell energy -6521.58303459
unrelaxed 100 surface formation energy 0.18515021986855296
bulk cell energy -6527.10465016
expanded cell energy -6521.1679749
unrelaxed 100 surface formation energy 0.19906795657848045
bulk cell energy -6527.10465016
expanded cell energy -6520.86203819
unrelaxed 100 surface formation energy 0.20932659360378078
bulk cell energy -6527.10465016
expanded cell energy -6520.58803973
unrelaxed 100 surface formation energy 0.21851428049173305
bulk cell energy -6527.10465016
expanded cell energy -6520.32652141
unrelaxed 100 surface formation energy 0.22728348476114438
bulk cell energy -6527.10465016
expanded cell energy -6520.0803522
unrelaxed 100 surface formation energy 0.2355380040208231
bulk cell energy -6527.10465016
expanded cell energy -6519.84878626
unrelaxed 100 surface formation energy 0.2433028482364543
bulk cell energy -6527.10465016
expanded cell energy -6519.62796319
unrelaxed 100 surface formation energy 0.25070746390457954
bulk cell energy -6527.10465016
expanded cell energy -6519.41281594
unrelaxed 100 surface formation energy 0.25792175828604424
bulk cell energy -6527.10465016
expanded cell energy -6519.20355568
unrelaxed 100 surface formation energy 0.2649386507083982
bulk cell energy -6527.10465016
expanded cell energy -6519.02245041
unrelaxed 100 surface formation energy 0.2710114533140487
bulk cell energy -6527.10465016
expanded cell energy -6518.89488176
unrelaxed 100 surface formation energy 0.27528907147210124
bulk cell energy -6527.10465016
expanded cell energy -6518.83919291
unrelaxed 100 surface formation energy 0.2771564240856935
bulk cell energy -6527.10465016
expanded cell energy -6518.85527692
unrelaxed 100 surface formation energy 0.2766170967689347
bulk cell energy -6527.10465016
expanded cell energy -6518.92585522
unrelaxed 100 surface formation energy 0.27425047264309926
bulk cell energy -6527.10465016
expanded cell energy -6519.02185173
unrelaxed 100 surface formation energy 0.2710315281129908
bulk cell energy -6527.10465016
expanded cell energy -6519.10784309
unrelaxed 100 surface formation energy 0.26814807505070176
bulk cell energy -6527.10465016
expanded cell energy -6519.15580372
unrelaxed 100 surface formation energy 0.26653986450260847
bulk cell energy -6527.10465016
expanded cell energy -6519.16159791
unrelaxed 100 surface formation energy 0.26634557422800464
bulk cell energy -6527.10465016
expanded cell energy -6519.14749707
unrelaxed 100 surface formation energy 0.26681840207603663
bulk cell energy -6527.10465016
expanded cell energy -6519.14427629
unrelaxed 100 surface formation energy 0.26692640084660796
bulk cell energy -6527.10465016
expanded cell energy -6519.14427629
unrelaxed 100 surface formation energy 0.26692640084660796
bulk cell energy -6527.10465016
expanded cell energy -6519.1442763
unrelaxed 100 surface formation energy 0.26692640058524797
openings  [0.0, 0.09999999999999999, 0.19999999999999998, 0.3, 0.39999999999999997, 0.5, 0.6, 0.7000000000000001, 0.7999999999999999, 0.8999999999999999, 1.0, 1.1, 1.2, 1.3, 1.4000000000000001, 1.5, 1.5999999999999999, 1.7, 1.7999999999999998, 1.9, 2.0, 2.1, 2.2, 2.3, 2.4, 2.5, 2.6, 2.7, 2.8000000000000003, 2.9000000000000004, 3.0, 3.0999999999999996, 3.1999999999999997, 3.3, 3.4, 3.5]
es  ['0.0', '0.0026520230600245737', '0.010191114314629103', '0.021851332656245087', '0.036638248003902786', '0.05334628015332416', '0.07070175968836297', '0.08803439093550612', '0.10512289924578545', '0.12172171266759875', '0.13770029009560603', '0.15344175107328722', '0.16941045219327833', '0.18515021986855296', '0.19906795657848045', '0.20932659360378078', '0.21851428049173305', '0.22728348476114438', '0.2355380040208231', '0.2433028482364543', '0.25070746390457954', '0.25792175828604424', '0.2649386507083982', '0.2710114533140487', '0.27528907147210124', '0.2771564240856935', '0.2766170967689347', '0.27425047264309926', '0.2710315281129908', '0.26814807505070176', '0.26653986450260847', '0.26634557422800464', '0.26681840207603663', '0.26692640084660796', '0.26692640084660796', '0.26692640058524797']
stresses  ['-0.0003020648135578302', '0.05214904879359741', '0.09743929907804132', '0.13407304278085277', '0.15968254047675795', '0.17204522022448732', '0.17404192915909822', '0.17243038660457818', '0.1688707111452658', '0.16270642077713848', '0.15762533124079509', '0.1583934064303359', '0.16010590596803276', '0.1524370335555021', '0.11987109136602085', '0.09336981303725156', '0.0900393738825516', '0.08517942615345028', '0.07995462737634934', '0.07558296860044995', '0.07279729473454254', '0.07179515394907741', '0.06695769358370604', '0.05306492255623274', '0.0312952391024568', '0.006103244183284779', '-0.015867456930591925', '-0.02981195973874443', '-0.03245176379274766', '-0.02345291286219132', '-0.00848649306995743', '0.0033238604611063247', '0.003547178428380817', '-8.777561652684166e-05', '4.3887154863170236e-05', '-8.77808437271809e-05']
============================================================
Property calculation output:


Summary of computed properties:
{'surface_decohesion_unrelaxed_energy': ['0.0', '0.0026520230600245737', '0.010191114314629103', '0.021851332656245087', '0.036638248003902786', '0.05334628015332416', '0.07070175968836297', '0.08803439093550612', '0.10512289924578545', '0.12172171266759875', '0.13770029009560603', '0.15344175107328722', '0.16941045219327833', '0.18515021986855296', '0.19906795657848045', '0.20932659360378078', '0.21851428049173305', '0.22728348476114438', '0.2355380040208231', '0.2433028482364543', '0.25070746390457954', '0.25792175828604424', '0.2649386507083982', '0.2710114533140487', '0.27528907147210124', '0.2771564240856935', '0.2766170967689347', '0.27425047264309926', '0.2710315281129908', '0.26814807505070176', '0.26653986450260847', '0.26634557422800464', '0.26681840207603663', '0.26692640084660796', '0.26692640084660796', '0.26692640058524797'], 'surface_decohesion_unrelaxed_opening': [0.0, 0.09999999999999999, 0.19999999999999998, 0.3, 0.39999999999999997, 0.5, 0.6, 0.7000000000000001, 0.7999999999999999, 0.8999999999999999, 1.0, 1.1, 1.2, 1.3, 1.4000000000000001, 1.5, 1.5999999999999999, 1.7, 1.7999999999999998, 1.9, 2.0, 2.1, 2.2, 2.3, 2.4, 2.5, 2.6, 2.7, 2.8000000000000003, 2.9000000000000004, 3.0, 3.0999999999999996, 3.1999999999999997, 3.3, 3.4, 3.5], 'surface_decohesion_unrelaxed_stress': ['-0.0003020648135578302', '0.05214904879359741', '0.09743929907804132', '0.13407304278085277', '0.15968254047675795', '0.17204522022448732', '0.17404192915909822', '0.17243038660457818', '0.1688707111452658', '0.16270642077713848', '0.15762533124079509', '0.1583934064303359', '0.16010590596803276', '0.1524370335555021', '0.11987109136602085', '0.09336981303725156', '0.0900393738825516', '0.08517942615345028', '0.07995462737634934', '0.07558296860044995', '0.07279729473454254', '0.07179515394907741', '0.06695769358370604', '0.05306492255623274', '0.0312952391024568', '0.006103244183284779', '-0.015867456930591925', '-0.02981195973874443', '-0.03245176379274766', '-0.02345291286219132', '-0.00848649306995743', '0.0033238604611063247', '0.003547178428380817', '-8.777561652684166e-05', '4.3887154863170236e-05', '-8.77808437271809e-05']}
============================================================
