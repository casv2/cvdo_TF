Model PIP_4BBA_s_c, Test surface-energy-111-unrelaxed
Test run at 2018-10-03 16:05

model file: ../../../models/Si/PIP_4BBA_s_c/model.py
============================================================
import juliaimport
import julip
import os

model_dir = os.path.dirname(os.path.realpath(__file__))
IP = juliaimport.import_IP(model_dir + "/SiPIP_4BBA_short_cas.json")

#IP = juliaimport.import_IP(os.path.realpath(__file__)[0:-8] + "Ti_4B_med.json")
ASE_IP = julip.JulipCalculator("IP")

calculator = ASE_IP

no_checkpoint = True

name = 'PIP'
============================================================
test file: ../../../tests/Si/surface-energy-111-unrelaxed/test.py
============================================================
# This script defines a test case which computes one or more physical
# properties with a given model
#
# INPUTS:
#   model.calculator -- an ase.calculator.Calculator instance
#     this script can assume the calculator is checkpointed.
#
# OUTPUTS:
#   properties -- dictionary of key/value pairs corresponding
#     to physical quantities computed by this test

# standard ASE structure generation routines
from ase.lattice.cubic import Diamond
import numpy as np

import ase.io, sys

# set of utility routines specific this this model/testing framework
from utilities import relax_atoms, relax_atoms_cell

# the current model
import model

a0 = 5.44 # initial guess at lattice constant, cell will be relaxed below
fmax = 0.01 # maximum force following relaxtion [eV/A]

# set up the a
bulk = Diamond(symbol='Si', latticeconstant=a0, directions=[[1,-1,0],[1,0,-1],[1,1,1]])

# specify that we will use model.calculator to compute forces, energies and stresses
bulk.set_calculator(model.calculator)

# use one of the routines from utilities module to relax the initial
# unit cell and atomic positions
bulk = relax_atoms_cell(bulk, tol=fmax, traj_file=None)

# set up supercell
bulk *= (1, 1, 10)


def surface_energy(bulk, z_offset):
    Nat = bulk.get_number_of_atoms()

    # shift so cut is through shuffle plane
    bulk.positions[:,2] += z_offset
    bulk.wrap()

    # relax atom positions, holding cell fixed
    # vac = relax_atoms(vac, fmax=fmax)

    # compute surface formation energy as difference of bulk and expanded cell
    ebulk = bulk.get_potential_energy()
    print 'bulk cell energy', ebulk

    bulk.cell[2,:] += [0.0,0.0,10.0]
    eexp  = bulk.get_potential_energy()

    ase.io.write(sys.stdout, bulk, format='extxyz')

    print 'expanded cell energy', eexp
    e_form = 0.5*(eexp - ebulk) / np.linalg.norm(np.cross(bulk.cell[0,:],bulk.cell[1,:]))
    print 'unrelaxed 111 surface formation energy', e_form
    return e_form

# dictionary of computed properties - this is output of this test, to
#   be compared with other models
properties = {'surface_energy_111_unrelaxed':
                surface_energy(bulk, 2.0) }
============================================================
relax_atoms_cell using method cg_n
WARNING:quippy.potential:Minim atoms is not quippy.Atoms instance, copy forced!
/Users/Cas/.local/lib/python2.7/site-packages/ase/atoms.py:763: UserWarning: Converting 3x3 stress tensor from JulipCalculator calculator to the required Voigt form.
  'calculator to the required Voigt form.')
bulk cell energy -9790.33966634
60
Lattice="3.8493730423346055 1.05562916734955e-12 -7.650361942521797e-13 1.9246865211682171 3.3336548433104176 1.417311897582547e-12 -1.8739483106785935e-11 5.0906879769657e-11 104.28999783346909" Properties=species:S:1:pos:R:3:Z:I:1 energy=-9788.01829641 Minim_Constant_Volume=F Minim_Hydrostatic_Strain=F pbc="T T T"
Si       0.00000000       0.00000000       2.00000000       14 
Si       0.00000000      -0.00000000       4.35724995       14 
Si       1.92468652       1.11121828       8.28599986       14 
Si       1.92468652       1.11121828      10.64324980       14 
Si       3.84937304       2.22243656       5.14299993       14 
Si       3.84937304       2.22243656       7.50024987       14 
Si       0.00000000       0.00000000      11.42899978       14 
Si       0.00000000      -0.00000000      13.78624973       14 
Si       1.92468652       1.11121828      17.71499964       14 
Si       1.92468652       1.11121828      20.07224958       14 
Si       3.84937304       2.22243656      14.57199971       14 
Si       3.84937304       2.22243656      16.92924966       14 
Si       0.00000000       0.00000000      20.85799957       14 
Si       0.00000000       0.00000000      23.21524951       14 
Si       1.92468652       1.11121828      27.14399942       14 
Si       1.92468652       1.11121828      29.50124937       14 
Si       3.84937304       2.22243656      24.00099949       14 
Si       3.84937304       2.22243656      26.35824944       14 
Si      -0.00000000       0.00000000      30.28699935       14 
Si       0.00000000       0.00000000      32.64424930       14 
Si       1.92468652       1.11121828      36.57299921       14 
Si       1.92468652       1.11121828      38.93024915       14 
Si       3.84937304       2.22243656      33.42999928       14 
Si       3.84937304       2.22243656      35.78724922       14 
Si      -0.00000000       0.00000000      39.71599913       14 
Si       0.00000000       0.00000000      42.07324908       14 
Si       1.92468652       1.11121828      46.00199899       14 
Si       1.92468652       1.11121828      48.35924893       14 
Si       3.84937304       2.22243656      42.85899906       14 
Si       3.84937304       2.22243656      45.21624901       14 
Si      -0.00000000       0.00000000      49.14499892       14 
Si       0.00000000       0.00000000      51.50224886       14 
Si       1.92468652       1.11121828      55.43099877       14 
Si       1.92468652       1.11121828      57.78824872       14 
Si       3.84937304       2.22243656      52.28799884       14 
Si       3.84937304       2.22243656      54.64524879       14 
Si      -0.00000000       0.00000000      58.57399870       14 
Si       0.00000000       0.00000000      60.93124865       14 
Si       1.92468652       1.11121828      64.85999856       14 
Si       1.92468652       1.11121828      67.21724850       14 
Si       3.84937304       2.22243656      61.71699863       14 
Si       3.84937304       2.22243656      64.07424857       14 
Si      -0.00000000       0.00000000      68.00299848       14 
Si       0.00000000       0.00000000      70.36024843       14 
Si       1.92468652       1.11121828      74.28899834       14 
Si       1.92468652       1.11121828      76.64624828       14 
Si       3.84937304       2.22243656      71.14599841       14 
Si       3.84937304       2.22243656      73.50324836       14 
Si      -0.00000000       0.00000000      77.43199827       14 
Si       0.00000000       0.00000000      79.78924821       14 
Si       1.92468652       1.11121828      83.71799812       14 
Si       1.92468652       1.11121828      86.07524807       14 
Si       3.84937304       2.22243656      80.57499819       14 
Si       3.84937304       2.22243656      82.93224814       14 
Si      -0.00000000       0.00000000      86.86099805       14 
Si       0.00000000       0.00000000      89.21824800       14 
Si       1.92468652       1.11121828      93.14699791       14 
Si       1.92468652       1.11121828       1.21425002       14 
Si       3.84937304       2.22243656      90.00399798       14 
Si       3.84937304       2.22243656      92.36124792       14 
expanded cell energy -9788.01829641
unrelaxed 111 surface formation energy 0.09044899109611632
============================================================
Property calculation output:


Summary of computed properties:
{'surface_energy_111_unrelaxed': '0.09044899109611632'}
============================================================
