Model PIP_Si_4BBAenv_sw3, Test surface-energy-111-unrelaxed
Test run at 2018-10-24 11:43

model file: ../../../models/Si/PIP_Si_4BBAenv_sw3/model.py
============================================================
import juliaimport
import julip
import os

model_dir = os.path.dirname(os.path.realpath(__file__))
IP = juliaimport.import_IP(model_dir + "/SiPIP_4BBA_env_sw3.json")

#IP = juliaimport.import_IP(os.path.realpath(__file__)[0:-8] + "Ti_4B_med.json")
ASE_IP = julip.JulipCalculator("IP")

calculator = ASE_IP

no_checkpoint = True

name = 'PIP'
============================================================
test file: ../../../tests/Si/surface-energy-111-unrelaxed/test.py
============================================================
# This script defines a test case which computes one or more physical
# properties with a given model
#
# INPUTS:
#   model.calculator -- an ase.calculator.Calculator instance
#     this script can assume the calculator is checkpointed.
#
# OUTPUTS:
#   properties -- dictionary of key/value pairs corresponding
#     to physical quantities computed by this test

# standard ASE structure generation routines
from ase.lattice.cubic import Diamond
import numpy as np

import ase.io, sys

# set of utility routines specific this this model/testing framework
from utilities import relax_atoms, relax_atoms_cell

# the current model
import model

a0 = 5.44 # initial guess at lattice constant, cell will be relaxed below
fmax = 0.01 # maximum force following relaxtion [eV/A]

# set up the a
bulk = Diamond(symbol='Si', latticeconstant=a0, directions=[[1,-1,0],[1,0,-1],[1,1,1]])

# specify that we will use model.calculator to compute forces, energies and stresses
bulk.set_calculator(model.calculator)

# use one of the routines from utilities module to relax the initial
# unit cell and atomic positions
bulk = relax_atoms_cell(bulk, tol=fmax, traj_file=None)

# set up supercell
bulk *= (1, 1, 10)


def surface_energy(bulk, z_offset):
    Nat = bulk.get_number_of_atoms()

    # shift so cut is through shuffle plane
    bulk.positions[:,2] += z_offset
    bulk.wrap()

    # relax atom positions, holding cell fixed
    # vac = relax_atoms(vac, fmax=fmax)

    # compute surface formation energy as difference of bulk and expanded cell
    ebulk = bulk.get_potential_energy()
    print 'bulk cell energy', ebulk

    bulk.cell[2,:] += [0.0,0.0,10.0]
    eexp  = bulk.get_potential_energy()

    ase.io.write(sys.stdout, bulk, format='extxyz')

    print 'expanded cell energy', eexp
    e_form = 0.5*(eexp - ebulk) / np.linalg.norm(np.cross(bulk.cell[0,:],bulk.cell[1,:]))
    print 'unrelaxed 111 surface formation energy', e_form
    return e_form

# dictionary of computed properties - this is output of this test, to
#   be compared with other models
properties = {'surface_energy_111_unrelaxed':
                surface_energy(bulk, 2.0) }
============================================================
relax_atoms_cell using method cg_n
WARNING:quippy.potential:Minim atoms is not quippy.Atoms instance, copy forced!
/home/casv2/miniconda2/lib/python2.7/site-packages/ase/atoms.py:764: UserWarning: Converting 3x3 stress tensor from JulipCalculator calculator to the required Voigt form.
  'calculator to the required Voigt form.')
bulk cell energy -9789.00280127
60
Lattice="3.846660889654819 0.0 0.0 1.9233304448274096 3.3313060501851224 0.0 0.0 0.0 104.22356393174694" Properties=species:S:1:pos:R:3 energy=-9786.85492854 Minim_Constant_Volume=F Minim_Hydrostatic_Strain=F pbc="T T T"
Si       0.00000000       0.00000000       2.00000000 
Si       0.00000000       0.00000000       4.35558910 
Si       1.92333044       1.11043535       8.28157093 
Si       1.92333044       1.11043535      10.63716003 
Si       3.84666089       2.22087070       5.14078546 
Si       3.84666089       2.22087070       7.49637456 
Si       0.00000000       0.00000000      11.42235639 
Si       0.00000000       0.00000000      13.77794549 
Si       1.92333044       1.11043535      17.70392732 
Si       1.92333044       1.11043535      20.05951642 
Si       3.84666089       2.22087070      14.56314186 
Si       3.84666089       2.22087070      16.91873096 
Si       0.00000000       0.00000000      20.84471279 
Si       0.00000000       0.00000000      23.20030188 
Si       1.92333044       1.11043535      27.12628372 
Si       1.92333044       1.11043535      29.48187281 
Si       3.84666089       2.22087070      23.98549825 
Si       3.84666089       2.22087070      26.34108735 
Si       0.00000000       0.00000000      30.26706918 
Si       0.00000000       0.00000000      32.62265828 
Si       1.92333044       1.11043535      36.54864011 
Si       1.92333044       1.11043535      38.90422921 
Si       3.84666089       2.22087070      33.40785464 
Si       3.84666089       2.22087070      35.76344374 
Si       0.00000000       0.00000000      39.68942557 
Si       0.00000000       0.00000000      42.04501467 
Si       1.92333044       1.11043535      45.97099650 
Si       1.92333044       1.11043535      48.32658560 
Si       3.84666089       2.22087070      42.83021104 
Si       3.84666089       2.22087070      45.18580014 
Si       0.00000000       0.00000000      49.11178197 
Si       0.00000000       0.00000000      51.46737106 
Si       1.92333044       1.11043535      55.39335289 
Si       1.92333044       1.11043535      57.74894199 
Si       3.84666089       2.22087070      52.25256743 
Si       3.84666089       2.22087070      54.60815653 
Si       0.00000000       0.00000000      58.53413836 
Si       0.00000000       0.00000000      60.88972746 
Si       1.92333044       1.11043535      64.81570929 
Si       1.92333044       1.11043535      67.17129839 
Si       3.84666089       2.22087070      61.67492382 
Si       3.84666089       2.22087070      64.03051292 
Si       0.00000000       0.00000000      67.95649475 
Si       0.00000000       0.00000000      70.31208385 
Si       1.92333044       1.11043535      74.23806568 
Si       1.92333044       1.11043535      76.59365478 
Si       3.84666089       2.22087070      71.09728022 
Si       3.84666089       2.22087070      73.45286931 
Si       0.00000000       0.00000000      77.37885115 
Si       0.00000000       0.00000000      79.73444024 
Si       1.92333044       1.11043535      83.66042207 
Si       1.92333044       1.11043535      86.01601117 
Si       3.84666089       2.22087070      80.51963661 
Si       3.84666089       2.22087070      82.87522571 
Si       0.00000000       0.00000000      86.80120754 
Si       0.00000000       0.00000000      89.15679664 
Si       1.92333044       1.11043535      93.08277847 
Si       1.92333044       1.11043535       1.21480363 
Si       3.84666089       2.22087070      89.94199300 
Si       3.84666089       2.22087070      92.29758210 
expanded cell energy -9786.85492854
unrelaxed 111 surface formation energy 0.08380696482339713
============================================================
Property calculation output:


Summary of computed properties:
{'surface_energy_111_unrelaxed': 0.08380696482339713}
============================================================
