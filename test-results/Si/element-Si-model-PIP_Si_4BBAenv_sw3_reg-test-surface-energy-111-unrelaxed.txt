Model PIP_Si_4BBAenv_sw3_reg, Test surface-energy-111-unrelaxed
Test run at 2018-10-25 17:54

model file: ../../../models/Si/PIP_Si_4BBAenv_sw3_reg/model.py
============================================================
import juliaimport
import julip
import os

model_dir = os.path.dirname(os.path.realpath(__file__))
IP = juliaimport.import_IP(model_dir + "/SiPIP_4BBA_env_sw3_reg.json")

#IP = juliaimport.import_IP(os.path.realpath(__file__)[0:-8] + "Ti_4B_med.json")
ASE_IP = julip.JulipCalculator("IP")

calculator = ASE_IP

no_checkpoint = True

name = 'PIP'
============================================================
test file: ../../../tests/Si/surface-energy-111-unrelaxed/test.py
============================================================
# This script defines a test case which computes one or more physical
# properties with a given model
#
# INPUTS:
#   model.calculator -- an ase.calculator.Calculator instance
#     this script can assume the calculator is checkpointed.
#
# OUTPUTS:
#   properties -- dictionary of key/value pairs corresponding
#     to physical quantities computed by this test

# standard ASE structure generation routines
from ase.lattice.cubic import Diamond
import numpy as np

import ase.io, sys

# set of utility routines specific this this model/testing framework
from utilities import relax_atoms, relax_atoms_cell

# the current model
import model

a0 = 5.44 # initial guess at lattice constant, cell will be relaxed below
fmax = 0.01 # maximum force following relaxtion [eV/A]

# set up the a
bulk = Diamond(symbol='Si', latticeconstant=a0, directions=[[1,-1,0],[1,0,-1],[1,1,1]])

# specify that we will use model.calculator to compute forces, energies and stresses
bulk.set_calculator(model.calculator)

# use one of the routines from utilities module to relax the initial
# unit cell and atomic positions
bulk = relax_atoms_cell(bulk, tol=fmax, traj_file=None)

# set up supercell
bulk *= (1, 1, 10)


def surface_energy(bulk, z_offset):
    Nat = bulk.get_number_of_atoms()

    # shift so cut is through shuffle plane
    bulk.positions[:,2] += z_offset
    bulk.wrap()

    # relax atom positions, holding cell fixed
    # vac = relax_atoms(vac, fmax=fmax)

    # compute surface formation energy as difference of bulk and expanded cell
    ebulk = bulk.get_potential_energy()
    print 'bulk cell energy', ebulk

    bulk.cell[2,:] += [0.0,0.0,10.0]
    eexp  = bulk.get_potential_energy()

    ase.io.write(sys.stdout, bulk, format='extxyz')

    print 'expanded cell energy', eexp
    e_form = 0.5*(eexp - ebulk) / np.linalg.norm(np.cross(bulk.cell[0,:],bulk.cell[1,:]))
    print 'unrelaxed 111 surface formation energy', e_form
    return e_form

# dictionary of computed properties - this is output of this test, to
#   be compared with other models
properties = {'surface_energy_111_unrelaxed':
                surface_energy(bulk, 2.0) }
============================================================
relax_atoms_cell using method cg_n
WARNING:quippy.potential:Minim atoms is not quippy.Atoms instance, copy forced!
/home/casv2/miniconda2/lib/python2.7/site-packages/ase/atoms.py:764: UserWarning: Converting 3x3 stress tensor from JulipCalculator calculator to the required Voigt form.
  'calculator to the required Voigt form.')
bulk cell energy -9790.95552146
60
Lattice="3.8696974398883133 1.96111740373339e-10 -1.3459152059867152e-10 1.9348487201139943 3.3512562885155974 -1.191446393394094e-10 -3.296805491720367e-09 -1.466507758646285e-09 104.78784183799664" Properties=species:S:1:pos:R:3 energy=-9788.60153465 Minim_Constant_Volume=F Minim_Hydrostatic_Strain=F pbc="T T T"
Si      -0.00000000      -0.00000000       2.00000000 
Si       0.00000000      -0.00000000       4.36969604 
Si       1.93484872       1.11708543       8.31918946 
Si       1.93484872       1.11708543      10.68888550 
Si       3.86969744       2.23417086       5.15959473 
Si       3.86969744       2.23417086       7.52929077 
Si      -0.00000000      -0.00000000      11.47878419 
Si      -0.00000000      -0.00000000      13.84848023 
Si       1.93484872       1.11708543      17.79797364 
Si       1.93484872       1.11708543      20.16766968 
Si       3.86969744       2.23417086      14.63837891 
Si       3.86969744       2.23417086      17.00807496 
Si      -0.00000000      -0.00000000      20.95756837 
Si      -0.00000000      -0.00000000      23.32726441 
Si       1.93484872       1.11708543      27.27675782 
Si       1.93484872       1.11708543      29.64645387 
Si       3.86969744       2.23417086      24.11716310 
Si       3.86969744       2.23417086      26.48685914 
Si      -0.00000000      -0.00000000      30.43635255 
Si      -0.00000000      -0.00000000      32.80604859 
Si       1.93484872       1.11708543      36.75554201 
Si       1.93484872       1.11708543      39.12523805 
Si       3.86969744       2.23417086      33.59594728 
Si       3.86969744       2.23417086      35.96564332 
Si      -0.00000000      -0.00000000      39.91513674 
Si      -0.00000000      -0.00000000      42.28483278 
Si       1.93484872       1.11708543      46.23432619 
Si       1.93484872       1.11708543      48.60402224 
Si       3.86969744       2.23417086      43.07473147 
Si       3.86969744       2.23417086      45.44442751 
Si      -0.00000000      -0.00000000      49.39392092 
Si      -0.00000000      -0.00000000      51.76361696 
Si       1.93484872       1.11708543      55.71311038 
Si       1.93484872       1.11708543      58.08280642 
Si       3.86969744       2.23417086      52.55351565 
Si       3.86969744       2.23417086      54.92321169 
Si      -0.00000000      -0.00000000      58.87270511 
Si      -0.00000000      -0.00000000      61.24240115 
Si       1.93484872       1.11708543      65.19189456 
Si       1.93484872       1.11708543      67.56159060 
Si       3.86969744       2.23417086      62.03229983 
Si       3.86969744       2.23417086      64.40199587 
Si      -0.00000000      -0.00000000      68.35148929 
Si      -0.00000000      -0.00000000      70.72118533 
Si       1.93484872       1.11708543      74.67067874 
Si       1.93484872       1.11708543      77.04037479 
Si       3.86969744       2.23417086      71.51108402 
Si       3.86969744       2.23417086      73.88078006 
Si      -0.00000000      -0.00000000      77.83027347 
Si      -0.00000000      -0.00000000      80.19996951 
Si       1.93484872       1.11708543      84.14946293 
Si       1.93484872       1.11708543      86.51915897 
Si       3.86969744       2.23417086      80.98986820 
Si       3.86969744       2.23417086      83.35956424 
Si      -0.00000000      -0.00000000      87.30905766 
Si      -0.00000000      -0.00000000      89.67875370 
Si       1.93484872       1.11708543      93.62824711 
Si       1.93484872       1.11708543       1.21010132 
Si       3.86969744       2.23417086      90.46865238 
Si       3.86969744       2.23417086      92.83834843 
expanded cell energy -9788.60153465
unrelaxed 111 surface formation energy 0.09075893182288175
============================================================
Property calculation output:


Summary of computed properties:
{'surface_energy_111_unrelaxed': 0.09075893182288175}
============================================================
