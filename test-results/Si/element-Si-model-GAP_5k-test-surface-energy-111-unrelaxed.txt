Model GAP_5k, Test surface-energy-111-unrelaxed
Test run at 2018-10-02 13:48

model file: ../../../models/Si/GAP_5k/model.py
============================================================
from quippy import Potential
import __builtin__
import os

orig_dir = os.getcwd()
model_dir = os.path.dirname(__file__)
if model_dir != '':
    os.chdir(model_dir)

#if os.path.exists('gp_iter6_sparse9k.xml.sparseX.GAP_2017_6_17_60_4_3_56_1651.bz2'):
#    os.system('bunzip2 gp_iter6_sparse9k.xml.sparseX.GAP_2017_6_17_60_4_3_56_1651.bz2')

try:
    if hasattr(__builtin__, 'mpi_glob'):
        calculator = Potential(init_args='Potential xml_label="GAP_2017_5_19_60_8_49_14_561"', param_filename='./gp_iter5_with111adatom_with3x3das_noconfigtypes_sparse9k.xml', mpi_obj=mpi_glob)
    else:
        calculator = Potential(init_args='Potential xml_label="GAP_2017_5_19_60_8_49_14_561"', param_filename='./gp_iter5_with111adatom_with3x3das_noconfigtypes_sparse9k.xml')
    Potential.__str__ = lambda self: '<GAP Potential>'
finally:
    os.chdir(orig_dir)

no_checkpoint = True

name = 'GAP'

#calculator = Potential(init_args='Potential xml_label="GAP_2017_5_19_60_8_49_14_561"', param_filename='./gp_iter5_with111adatom_with3x3das_noconfigtypes_sparse9k.xml')

no_checkpoint = True

name = 'GAP'
============================================================
test file: ../../../tests/Si/surface-energy-111-unrelaxed/test.py
============================================================
# This script defines a test case which computes one or more physical
# properties with a given model
#
# INPUTS:
#   model.calculator -- an ase.calculator.Calculator instance
#     this script can assume the calculator is checkpointed.
#
# OUTPUTS:
#   properties -- dictionary of key/value pairs corresponding
#     to physical quantities computed by this test

# standard ASE structure generation routines
from ase.lattice.cubic import Diamond
import numpy as np

import ase.io, sys

# set of utility routines specific this this model/testing framework
from utilities import relax_atoms, relax_atoms_cell

# the current model
import model

a0 = 5.44 # initial guess at lattice constant, cell will be relaxed below
fmax = 0.01 # maximum force following relaxtion [eV/A]

# set up the a
bulk = Diamond(symbol='Si', latticeconstant=a0, directions=[[1,-1,0],[1,0,-1],[1,1,1]])

# specify that we will use model.calculator to compute forces, energies and stresses
bulk.set_calculator(model.calculator)

# use one of the routines from utilities module to relax the initial
# unit cell and atomic positions
bulk = relax_atoms_cell(bulk, tol=fmax, traj_file=None)

# set up supercell
bulk *= (1, 1, 10)


def surface_energy(bulk, z_offset):
    Nat = bulk.get_number_of_atoms()

    # shift so cut is through shuffle plane
    bulk.positions[:,2] += z_offset
    bulk.wrap()

    # relax atom positions, holding cell fixed
    # vac = relax_atoms(vac, fmax=fmax)

    # compute surface formation energy as difference of bulk and expanded cell
    ebulk = bulk.get_potential_energy()
    print 'bulk cell energy', ebulk

    bulk.cell[2,:] += [0.0,0.0,10.0]
    eexp  = bulk.get_potential_energy()

    ase.io.write(sys.stdout, bulk, format='extxyz')

    print 'expanded cell energy', eexp
    e_form = 0.5*(eexp - ebulk) / np.linalg.norm(np.cross(bulk.cell[0,:],bulk.cell[1,:]))
    print 'unrelaxed 111 surface formation energy', e_form
    return e_form

# dictionary of computed properties - this is output of this test, to
#   be compared with other models
properties = {'surface_energy_111_unrelaxed':
                surface_energy(bulk, 2.0) }
============================================================
relax_atoms_cell using method cg_n
WARNING:quippy.potential:Minim atoms is not quippy.Atoms instance, copy forced!
bulk cell energy -9790.65697537
60
Lattice="3.8615027489653375 -1.5526274392267944e-15 8.932518400468015e-16 1.9307513744826676 3.344159477387429 1.5708553857388443e-15 1.899090068674938e-14 1.7475901531948574e-14 104.58711375319643" Properties=species:S:1:pos:R:3:Z:I:1 energy=-9788.12403828 Minim_Constant_Volume=F Minim_Hydrostatic_Strain=F pbc="T T T"
Si       0.00000000       0.00000000       2.00000000       14 
Si       0.00000000       0.00000000       4.36467784       14 
Si       1.93075137       1.11471983       8.30580758       14 
Si       1.93075137       1.11471983      10.67048543       14 
Si       3.86150275       2.22943965       5.15290379       14 
Si       3.86150275       2.22943965       7.51758164       14 
Si       0.00000000       0.00000000      11.45871138       14 
Si       0.00000000       0.00000000      13.82338922       14 
Si       1.93075137       1.11471983      17.76451896       14 
Si       1.93075137       1.11471983      20.12919680       14 
Si       3.86150275       2.22943965      14.61161517       14 
Si       3.86150275       2.22943965      16.97629301       14 
Si       0.00000000       0.00000000      20.91742275       14 
Si       0.00000000       0.00000000      23.28210059       14 
Si       1.93075137       1.11471983      27.22323033       14 
Si       1.93075137       1.11471983      29.58790818       14 
Si       3.86150275       2.22943965      24.07032654       14 
Si       3.86150275       2.22943965      26.43500439       14 
Si       0.00000000       0.00000000      30.37613413       14 
Si       0.00000000       0.00000000      32.74081197       14 
Si       1.93075137       1.11471983      36.68194171       14 
Si       1.93075137       1.11471983      39.04661955       14 
Si       3.86150275       2.22943965      33.52903792       14 
Si       3.86150275       2.22943965      35.89371576       14 
Si       0.00000000       0.00000000      39.83484550       14 
Si       0.00000000       0.00000000      42.19952335       14 
Si       1.93075137       1.11471983      46.14065308       14 
Si       1.93075137       1.11471983      48.50533093       14 
Si       3.86150275       2.22943965      42.98774929       14 
Si       3.86150275       2.22943965      45.35242714       14 
Si       0.00000000       0.00000000      49.29355688       14 
Si       0.00000000       0.00000000      51.65823472       14 
Si       1.93075137       1.11471983      55.59936446       14 
Si       1.93075137       1.11471983      57.96404230       14 
Si       3.86150275       2.22943965      52.44646067       14 
Si       3.86150275       2.22943965      54.81113851       14 
Si       0.00000000       0.00000000      58.75226825       14 
Si       0.00000000       0.00000000      61.11694610       14 
Si       1.93075137       1.11471983      65.05807584       14 
Si       1.93075137       1.11471983      67.42275368       14 
Si       3.86150275       2.22943965      61.90517204       14 
Si       3.86150275       2.22943965      64.26984989       14 
Si       0.00000000       0.00000000      68.21097963       14 
Si       0.00000000       0.00000000      70.57565747       14 
Si       1.93075137       1.11471983      74.51678721       14 
Si       1.93075137       1.11471983      76.88146505       14 
Si       3.86150275       2.22943965      71.36388342       14 
Si       3.86150275       2.22943965      73.72856126       14 
Si       0.00000000       0.00000000      77.66969100       14 
Si       0.00000000       0.00000000      80.03436885       14 
Si       1.93075137       1.11471983      83.97549859       14 
Si       1.93075137       1.11471983      86.34017643       14 
Si       3.86150275       2.22943965      80.82259479       14 
Si       3.86150275       2.22943965      83.18727264       14 
Si       0.00000000       0.00000000      87.12840238       14 
Si       0.00000000       0.00000000      89.49308022       14 
Si       1.93075137       1.11471983      93.43420996       14 
Si       1.93075137       1.11471983       1.21177405       14 
Si       3.86150275       2.22943965      90.28130617       14 
Si       3.86150275       2.22943965      92.64598401       14 
expanded cell energy -9788.12403828
unrelaxed 111 surface formation energy 0.09807336540438086
============================================================
Property calculation output:


Summary of computed properties:
{'surface_energy_111_unrelaxed': '0.09807336540438086'}
============================================================
